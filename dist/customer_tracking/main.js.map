{"version":3,"file":"main.js","mappings":"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A;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sources":["./src/app/here-flexible-polyline.js","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/customer-tracking-page/customer-tracking-page.component.ts","./src/app/customer-tracking-page/customer-tracking-page.component.html","./src/app/errorpage/errorpage.component.ts","./src/app/errorpage/errorpage.component.html","./src/app/googlemap/googlemap.component.ts","./src/app/googlemap/googlemap.component.html","./src/app/order.service.ts","./src/app/riderIcon.ts","./src/app/test-map/test-map.component.ts","./src/app/test-map/test-map.component.html","./src/environments/environment.ts","./src/main.ts","./node_modules/moment/locale|sync|/^/.*$"],"sourcesContent":["/*\r\n * Copyright (C) 2019 HERE Europe B.V.\r\n * Licensed under MIT, see full license in LICENSE\r\n * SPDX-License-Identifier: MIT\r\n * License-Filename: LICENSE\r\n */\r\nconst DEFAULT_PRECISION = 5;\r\n\r\nconst ENCODING_TABLE = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\";\r\n\r\nconst DECODING_TABLE = [\r\n    62, -1, -1, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, -1, -1, -1, -1, -1, -1, -1,\r\n    0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21,\r\n    22, 23, 24, 25, -1, -1, -1, -1, 63, -1, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35,\r\n    36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 51\r\n];\r\n\r\nconst FORMAT_VERSION = 1;\r\n\r\nconst ABSENT = 0;\r\nconst LEVEL = 1;\r\nconst ALTITUDE = 2;\r\nconst ELEVATION = 3;\r\n// Reserved values 4 and 5 should not be selectable\r\nconst CUSTOM1 = 6;\r\nconst CUSTOM2 = 7;\r\n\r\nconst Num = typeof BigInt !== \"undefined\" ? BigInt : Number;\r\n\r\nfunction decode(encoded) {\r\n    const decoder = decodeUnsignedValues(encoded);\r\n    const header = decodeHeader(decoder[0], decoder[1]);\r\n\r\n    const factorDegree = 10 ** header.precision;\r\n    const factorZ = 10 ** header.thirdDimPrecision;\r\n    const { thirdDim } = header;\r\n\r\n    let lastLat = 0;\r\n    let lastLng = 0;\r\n    let lastZ = 0;\r\n    const res = [];\r\n\r\n    let i = 2;\r\n    for (;i < decoder.length;) {\r\n        const deltaLat = toSigned(decoder[i]) / factorDegree;\r\n        const deltaLng = toSigned(decoder[i + 1]) / factorDegree;\r\n        lastLat += deltaLat;\r\n        lastLng += deltaLng;\r\n\r\n        if (thirdDim) {\r\n            const deltaZ = toSigned(decoder[i + 2]) / factorZ;\r\n            lastZ += deltaZ;\r\n            res.push([lastLat, lastLng, lastZ]);\r\n            i += 3;\r\n        } else {\r\n            res.push([lastLat, lastLng]);\r\n            i += 2;\r\n        }\r\n    }\r\n\r\n    if (i !== decoder.length) {\r\n        throw new Error('Invalid encoding. Premature ending reached');\r\n    }\r\n\r\n    return {\r\n        ...header,\r\n        polyline: res,\r\n    };\r\n}\r\n\r\nfunction decodeChar(char) {\r\n    const charCode = char.charCodeAt(0);\r\n    return DECODING_TABLE[charCode - 45];\r\n}\r\n\r\nfunction decodeUnsignedValues(encoded) {\r\n    let result = Num(0);\r\n    let shift = Num(0);\r\n    const resList = [];\r\n\r\n    encoded.split('').forEach((char) => {\r\n        const value = Num(decodeChar(char));\r\n        result |= (value & Num(0x1F)) << shift;\r\n        if ((value & Num(0x20)) === Num(0)) {\r\n            resList.push(result);\r\n            result = Num(0);\r\n            shift = Num(0);\r\n        } else {\r\n            shift += Num(5);\r\n        }\r\n    });\r\n\r\n    if (shift > 0) {\r\n        throw new Error('Invalid encoding');\r\n    }\r\n\r\n    return resList;\r\n}\r\n\r\nfunction decodeHeader(version, encodedHeader) {\r\n    if (+version.toString() !== FORMAT_VERSION) {\r\n        throw new Error('Invalid format version');\r\n    }\r\n    const headerNumber = +encodedHeader.toString();\r\n    const precision = headerNumber & 15;\r\n    const thirdDim = (headerNumber >> 4) & 7;\r\n    const thirdDimPrecision = (headerNumber >> 7) & 15;\r\n    return { precision, thirdDim, thirdDimPrecision };\r\n}\r\n\r\nfunction toSigned(val) {\r\n    // Decode the sign from an unsigned value\r\n    let res = val;\r\n    if (res & Num(1)) {\r\n        res = ~res;\r\n    }\r\n    res >>= Num(1);\r\n    return +res.toString();\r\n}\r\n\r\nfunction encode({ precision = DEFAULT_PRECISION, thirdDim = ABSENT, thirdDimPrecision = 0, polyline }) {\r\n    // Encode a sequence of lat,lng or lat,lng(,{third_dim}). Note that values should be of type BigNumber\r\n    //   `precision`: how many decimal digits of precision to store the latitude and longitude.\r\n    //   `third_dim`: type of the third dimension if present in the input.\r\n    //   `third_dim_precision`: how many decimal digits of precision to store the third dimension.\r\n\r\n    const multiplierDegree = 10 ** precision;\r\n    const multiplierZ = 10 ** thirdDimPrecision;\r\n    const encodedHeaderList = encodeHeader(precision, thirdDim, thirdDimPrecision);\r\n    const encodedCoords = [];\r\n\r\n    let lastLat = Num(0);\r\n    let lastLng = Num(0);\r\n    let lastZ = Num(0);\r\n    polyline.forEach((location) => {\r\n        const lat = Num(Math.round(location[0] * multiplierDegree));\r\n        encodedCoords.push(encodeScaledValue(lat - lastLat));\r\n        lastLat = lat;\r\n\r\n        const lng = Num(Math.round(location[1] * multiplierDegree));\r\n        encodedCoords.push(encodeScaledValue(lng - lastLng));\r\n        lastLng = lng;\r\n\r\n        if (thirdDim) {\r\n            const z = Num(Math.round(location[2] * multiplierZ));\r\n            encodedCoords.push(encodeScaledValue(z - lastZ));\r\n            lastZ = z;\r\n        }\r\n    });\r\n\r\n    return [...encodedHeaderList, ...encodedCoords].join('');\r\n}\r\n\r\nfunction encodeHeader(precision, thirdDim, thirdDimPrecision) {\r\n    // Encode the `precision`, `third_dim` and `third_dim_precision` into one encoded char\r\n    if (precision < 0 || precision > 15) {\r\n        throw new Error('precision out of range. Should be between 0 and 15');\r\n    }\r\n    if (thirdDimPrecision < 0 || thirdDimPrecision > 15) {\r\n        throw new Error('thirdDimPrecision out of range. Should be between 0 and 15');\r\n    }\r\n    if (thirdDim < 0 || thirdDim > 7 || thirdDim === 4 || thirdDim === 5) {\r\n        throw new Error('thirdDim should be between 0, 1, 2, 3, 6 or 7');\r\n    }\r\n\r\n    const res = (thirdDimPrecision << 7) | (thirdDim << 4) | precision;\r\n    return encodeUnsignedNumber(FORMAT_VERSION) + encodeUnsignedNumber(res);\r\n}\r\n\r\nfunction encodeUnsignedNumber(val) {\r\n    // Uses variable integer encoding to encode an unsigned integer. Returns the encoded string.\r\n    let res = '';\r\n    let numVal = Num(val);\r\n    while (numVal > 0x1F) {\r\n        const pos = (numVal & Num(0x1F)) | Num(0x20);\r\n        res += ENCODING_TABLE[pos];\r\n        numVal >>= Num(5);\r\n    }\r\n    return res + ENCODING_TABLE[numVal];\r\n}\r\n\r\nfunction encodeScaledValue(value) {\r\n    // Transform a integer `value` into a variable length sequence of characters.\r\n    //   `appender` is a callable where the produced chars will land to\r\n    let numVal = Num(value);\r\n    const negative = numVal < 0;\r\n    numVal <<= Num(1);\r\n    if (negative) {\r\n        numVal = ~numVal;\r\n    }\r\n\r\n    return encodeUnsignedNumber(numVal);\r\n}\r\n\r\nmodule.exports = {\r\n    encode,\r\n    decode,\r\n\r\n    ABSENT,\r\n    LEVEL,\r\n    ALTITUDE,\r\n    ELEVATION,\r\n};\r\n","import { NgModule } from '@angular/core';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport {CustomerTrackingPageComponent} from \"./customer-tracking-page/customer-tracking-page.component\";\r\nimport {ErrorpageComponent} from \"./errorpage/errorpage.component\";\r\n// import {FeedbackComponent} from \"./feedback/feedback.component\";\r\n\r\nconst routes: Routes = [\r\n  {path:'', component:CustomerTrackingPageComponent},\r\n  {path:'tracking_page', component:CustomerTrackingPageComponent},\r\n  {path:'error', component: ErrorpageComponent},\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forRoot(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule {\r\n}\r\n","import { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent {\r\n  title = 'customer_tracking';\r\n}\r\n","<router-outlet></router-outlet>\r\n","import { NgModule } from '@angular/core';\r\nimport { BrowserModule } from '@angular/platform-browser';\r\n\r\nimport { AppRoutingModule } from './app-routing.module';\r\nimport { AppComponent } from './app.component';\r\nimport { CustomerTrackingPageComponent } from './customer-tracking-page/customer-tracking-page.component';\r\nimport { GooglemapComponent } from './googlemap/googlemap.component';\r\n// import {GoogleMapsModule} from \"@angular/google-maps\";\r\nimport { HttpClientModule} from \"@angular/common/http\";\r\nimport { ErrorpageComponent } from './errorpage/errorpage.component';\r\nimport {FormsModule, ReactiveFormsModule} from \"@angular/forms\";\r\nimport {NgxStarRatingModule} from \"ngx-star-rating\";\r\nimport { TestMapComponent } from './test-map/test-map.component';\r\nimport {NgCircleProgressModule} from \"ng-circle-progress\";\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    CustomerTrackingPageComponent,\r\n    GooglemapComponent,\r\n    ErrorpageComponent,\r\n    TestMapComponent,\r\n  ],\r\n    imports: [\r\n        BrowserModule,\r\n        AppRoutingModule,\r\n        HttpClientModule,\r\n        FormsModule,\r\n        ReactiveFormsModule,\r\n        NgxStarRatingModule,\r\n        NgCircleProgressModule.forRoot({\r\n            \"radius\": 60,\r\n            \"space\": -10,\r\n            \"outerStrokeGradient\": true,\r\n            \"outerStrokeWidth\": 10,\r\n            \"outerStrokeColor\": \"#4882c2\",\r\n            \"outerStrokeGradientStopColor\": \"#53a9ff\",\r\n            \"innerStrokeColor\": \"#e7e8ea\",\r\n            \"innerStrokeWidth\": 10,\r\n            \"title\": \"UI\",\r\n            \"animateTitle\": false,\r\n            \"animationDuration\": 1000,\r\n            \"showUnits\": false,\r\n            \"showSubtitle\":true,\r\n            \"subtitle\": \"0\",\r\n            \"maxPercent\": 0,\r\n            \"subtitleFontSize\":\"12\",\r\n            \"showBackground\": false,\r\n            \"clockwise\": false,\r\n            \"startFromZero\": false,\r\n            \"lazy\": true})\r\n    ],\r\n  providers: [],\r\n  bootstrap: [AppComponent]\r\n})\r\nexport class AppModule { }\r\n","import { Component, OnInit } from '@angular/core';\r\nimport {OrderService} from \"../order.service\";\r\nimport {Order} from \"../order\";\r\nimport {Router} from \"@angular/router\";\r\nimport {FormBuilder, FormGroup, Validators} from \"@angular/forms\";\r\nimport {interval, Subscription} from \"rxjs\";\r\nimport * as moment from \"moment\";\r\nimport {environment} from \"../../environments/environment\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {HereResponseRoute, HereResponseRouteSection} from \"../test-map/test-map.component\";\r\nimport * as HereFlexible from '../here-flexible-polyline';\r\n\r\n\r\n@Component({\r\n  selector: 'app-customer-tracking-page',\r\n  templateUrl: './customer-tracking-page.component.html',\r\n  styleUrls: ['./customer-tracking-page.component.css']\r\n})\r\nexport class CustomerTrackingPageComponent implements OnInit {\r\n\r\n  order: Order = {\r\n    id: '',\r\n    rider: {\r\n      name: ''\r\n    },\r\n    delivery_address: {\r\n      google_address: ''\r\n    }} as Order;\r\n  feedbackorder = '';\r\n  feedbackStatus: any;\r\n  rating: any = {\r\n  };\r\n  rating3 = 0;\r\n  public form: FormGroup;\r\n  sub: Subscription | any;\r\n  order_status: any;\r\n  orderStatusDist = {\r\n    50: null,\r\n    200: null,\r\n    300: null,\r\n    400: null,\r\n    500: null,\r\n    600: null,\r\n  };\r\n  orderStatusDate = {\r\n    50: '',\r\n    200: '',\r\n    300: '',\r\n    400: '',\r\n    500: '',\r\n    600: '',\r\n  };\r\n  feedbackPolling = false;\r\n  notes = 'Delivery in';\r\n  orderSummaryValue: boolean = false;\r\n  order_Payment: any;\r\n  body_temp: any;\r\n  firstLocationTime: any;\r\n  updatedTime: any = 0;\r\n  currentUpdateTime: any;\r\n  subTitleTime: any;\r\n  riderNumber: any;\r\n  infoModelValue: boolean = false;\r\n  currentApplicationVersion = environment.appVersion;\r\n  currencyCode: any;\r\n  HereFlexible: any;\r\n  resData: any = {};\r\n  time: any;\r\n\r\n  constructor(public orderService: OrderService, private router: Router, private fb: FormBuilder,  private http: HttpClient) {\r\n    this.form = this.fb.group({\r\n      rating1: ['', Validators.required],\r\n      rating2: [4]\r\n    });\r\n  }\r\n\r\n  async ngOnInit(): Promise<void> {\r\n    await this.orderService.init().then();\r\n    this.order = this.orderService.order;\r\n    this.rating = this.orderService.rating;\r\n    this.order_status = this.orderService.order_status;\r\n    this.order_Payment = this.orderService.orderPayment;\r\n    await this.orderService.companyData().then();\r\n    this.currencyCode = this.orderService.currencyCode;\r\n    const bodytemp = this.orderService.body_temp;\r\n    this.body_temp = bodytemp.body_temp_vaccination_status?.EmployeeBodyTemp\r\n    this.order_status.forEach((row: any) => {\r\n      // @ts-ignore\r\n      this.orderStatusDist[row.status_code] = row.status_code;\r\n      // @ts-ignore\r\n      this.orderStatusDate[row.status_code] = row.created_on;\r\n    })\r\n    this.pollingData();\r\n    this.numberMasking()\r\n  }\r\n\r\n  // deg2rad1(deg: any) {\r\n  //   return deg * (Math.PI / 180)\r\n  // }\r\n  pollingData(){\r\n    this.sub = interval(4000).subscribe(()=>{\r\n      this.orderService.init().then();\r\n      this.order = this.orderService.order;\r\n      this.order_status = this.orderService.order_status;\r\n      this.order_status.forEach((row: any) => {\r\n        // @ts-ignore\r\n        this.orderStatusDist[row.status_code] = row.status_code;\r\n        // @ts-ignore\r\n        this.orderStatusDate[row.status_code] = row.created_on;\r\n      });\r\n      this.getTimeBtwTwoLatLng(this.order);\r\n    });\r\n    if(this.order.status_name === 'delivered' || this.order.status_name === 'cancelled'){\r\n       this.sub.unsubscribe()\r\n    }\r\n  }\r\n  getTimeBtwTwoLatLng(order: any){\r\n    const lat1 = order.rider_position.latitude;\r\n    const lng1 = order.rider_position.longitude;\r\n    const lat2 = order.delivery_location.latitude;\r\n    const lng2 = order.delivery_location.longitude;\r\n    try {\r\n      this.http.get('https://route.ls.hereapi.com/routing/7.2/calculateroute.json', {\r\n          params: {\r\n            apikey: environment.hereApiKey,\r\n            waypoint0: `geo!${lat1},${lng1}`,\r\n            waypoint1: `geo!${lat2},${lng2}`,\r\n            mode: 'fastest;car;'\r\n          }\r\n        }).subscribe(res =>{\r\n          this.resData =res\r\n          this.time = this.resData.response.route[0].summary.travelTime\r\n        })\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n    console.log(this.time)\r\n    this.updatedTime = Number(this.time/60);\r\n    this.subTitleTime = (this.updatedTime).toFixed(0) + ' min';\r\n    this.firstLocationTime = this.order.drop_off_eta/60\r\n    const firstPerValue = 100/ this.firstLocationTime;\r\n    this.currentUpdateTime = ( this.firstLocationTime - this.updatedTime)* firstPerValue;\r\n  }\r\n\r\n  deg2rad(deg: any) {\r\n    return deg * (Math.PI / 180)\r\n  }\r\n\r\n\r\n  feedback() {\r\n    const api_url = environment.apiUrl;\r\n    fetch(api_url + 'order/order_feedback/' + `${this.order.id}`, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        stars: this.rating3,\r\n        feedback: this.feedbackorder,\r\n        customer_id:this.order.customer_id,\r\n        rider_id: this.order.rider_id,\r\n      })\r\n    }).then(async( res) => {\r\n     const resData =  await res.json();\r\n      this.feedbackStatus = resData.status;\r\n      await this.orderService.init();\r\n      this.order = this.orderService.order;\r\n      this.rating = this.orderService.rating;\r\n    })\r\n  }\r\n  numberMasking(){\r\n    const date = this.order.created_on;\r\n    console.log('date ', moment(date).format('YYYY-MM-DD'));\r\n    const api_url = environment.apiUrl;\r\n    fetch(api_url + 'order/virtual_number', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json'\r\n      },\r\n      body: JSON.stringify({\r\n        order_number: this.order.external_id,\r\n        order_date: moment(date).format('YYYY-MM-DD'),\r\n        location_code: \"DPI66683\",\r\n        employee_code: this.order.rider_id,\r\n      })\r\n    }).then(async( res) => {\r\n       const riderData  =  await res.json();\r\n       this.riderNumber = riderData.virtualNumber;\r\n      // console.log('vvvvvvvvvvvvvvvvvv', this.riderNumber)\r\n    });\r\n  }\r\n\r\n  orderSummary() {\r\n    this.orderSummaryValue = true;\r\n  }\r\n\r\n  orderSummaryValueClose() {\r\n    this.orderSummaryValue = false;\r\n  }\r\n\r\n  getRating(event: any, value: any) {\r\n    this.rating3 = value;\r\n  }\r\n\r\n  riderPan() {\r\n    this.orderService.riderPosition.next({lat:this.order.rider_position.latitude,\r\n      lng: this.order.rider_position.longitude});\r\n  }\r\n\r\n  infoModel() {\r\n    this.infoModelValue = true;\r\n  }\r\n\r\n  infoModelClose() {\r\n    this.infoModelValue = false;\r\n  }\r\n\r\n}\r\nexport interface HereApiResponse {\r\n  routes: '';\r\n}\r\n","<!-- Header Start Here -->\r\n<header>\r\n  <div class=\"logo\"><img src=\"assets/images/logo.jpg\" alt=\"\"></div>\r\n</header>\r\n<!-- Header End Here -->\r\n\r\n<!-- Google Map Start Here -->\r\n<section class=\"gmap\">\r\n  <div class=\"powered\"><img src=\"assets/images/rc_ic.svg\" alt=\"map\"></div>\r\n  <div class=\"recenter\" (click)=\"riderPan()\"><svg id=\"Layer_1\" data-name=\"Layer 1\" xmlns=\"http://www.w3.org/2000/svg\"\r\n                             viewBox=\"0 0 121.64 122.86\"><title>direction-top</title>\r\n      <path d=\"M59,1.24.2,120.08a1.92,1.92,0,0,0,.88,2.58,1.89,1.89,0,0,0,1.76,0h0l58-30.87,58,30.87h0a1.89,\r\n      1.89,0,0,0,1.76,0,1.92,1.92,0,0,0,.88-2.58L62.64,1.24a2,2,0,0,0-3.64,0Z\" fill=\"#0074ad\"/></svg></div>\r\n  <app-test-map></app-test-map>\r\n</section>\r\n<!-- Google Map End Here -->\r\n\r\n<!-- Order Container Start Here -->\r\n<section class=\"ordercont\">\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col\">\r\n        <div class=\"row orderstatus\">\r\n          <div class=\"col-6\"><h2>Order No</h2></div>\r\n          <div class=\"col-6 txt-right\"><h2>#{{order.external_id | uppercase}}</h2></div>\r\n          <div class=\"w-100\"></div>\r\n          <div class=\"col-12\">\r\n            <div class=\"row\">\r\n              <div class=\"col-7\">\r\n                <ol class=\"timeline\">\r\n                  <li [ngClass]=\"orderStatusDist['400'] === 400 ? 'active' : ''\"><img src=\"assets/images/tick-w.png\">Start Bike<span>at {{orderStatusDate[\"400\"] | date: 'hh:mm a'}}</span></li>\r\n                  <li [ngClass]=\"orderStatusDist['500'] === 500 ? 'active' : ''\"><img src=\"assets/images/tick-w.png\">Reached Customer Parking<span>at {{orderStatusDate[\"500\"] | date: 'hh:mm a'}}</span></li>\r\n                  <li [ngClass]=\"orderStatusDist['600'] === 600 ? 'active' : ''\"><img src=\"assets/images/tick-w.png\">Delivered<span>at {{orderStatusDate[\"600\"] | date: 'hh:mm a'}}</span></li>\r\n                </ol>\r\n              </div>\r\n              <div class=\"col-5 txt-right\">\r\n                  <circle-progress\r\n                          [percent]=\"currentUpdateTime\"\r\n                          [radius]=\"55\"\r\n                          [titleFontSize]=\"'12'\"\r\n                          [title]=\"notes\"\r\n                          [subtitle]=\"subTitleTime\"\r\n                          [maxPercent]=\"firstLocationTime\"\r\n                  ></circle-progress>\r\n            </div>\r\n            </div>\r\n          </div>\r\n\r\n         <div class=\"col-12 rider\" *ngIf=\"order.status_code === 400\">\r\n              Rider has picked up your order\r\n          </div>\r\n          <div class=\"col-12 rider\"  *ngIf=\"order.status_code === 500\">\r\n              Rider has reached your gate\r\n          </div>\r\n          <div class=\"col-12 rider\"  *ngIf=\"order.status_code === 600\">\r\n              Rider has delivered your order\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"row user\">\r\n      <div class=\"col\">\r\n        <div class=\"row\">\r\n          <div class=\"col-2 u-pic\"><img src=\"assets/images/user.jpg\" alt=\"\"></div>\r\n          <div class=\"col-6 u-name\"><strong>{{order.rider.name}}</strong>\r\n           </div>\r\n          <div class=\"col-4 callbtn txtright\">\r\n            <img src=\"assets/images/info_ic.svg\" alt=\"\" (click)=\"infoModel()\">\r\n            <a href=\"tel: {{order.rider ? riderNumber : ''}}\"\r\n                                                 style=\"text-decoration: none\">\r\n              <img src=\"assets/images/call_ic.svg\" alt=\"\" class=\"ml-6\"></a>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row bottombtn\">\r\n      <div class=\"col-12\">\r\n        <button type=\"button\" class=\"btn btn-primary w-100\" (click)=\"orderSummary()\">VIEW ORDER INFO</button>\r\n      </div>\r\n<!--      <div class=\"col-12 issue\">-->\r\n<!--        Facing Issue? <a>Chat with us</a>-->\r\n<!--      </div>-->\r\n      <div class=\"col-12 poweredbot\">\r\n        Powered by RoadCast <span style=\"float: right\">{{currentApplicationVersion}}</span>\r\n      </div>\r\n    </div>\r\n    <!-- Scrollable modal -->\r\n  </div>\r\n</section>\r\n<!-- Order Container End Here -->\r\n\r\n<!-- Feedback Pop Up Start Here -->\r\n<!--<div *ngIf=\"order.status_name === 'delivered' || order.status_name === 'reached_store'\">-->\r\n<!--    <div class=\"feedback-popup\" *ngIf=\"!rating?.feedback\">-->\r\n<!--    <div class=\"s-message\">-->\r\n<!--      <img src=\"assets/images/successful.gif\" alt=\"\">-->\r\n<!--      <div class=\"txts\"><p class=\"success-text\">Order Successfully Delivered</p>-->\r\n<!--        <p class=\"order-id\">Order No:  <strong>#{{order.external_id | uppercase}}</strong></p></div>-->\r\n\r\n<!--    </div>-->\r\n<!--    <div class=\"botcont\">-->\r\n<!--        <div class=\"feedback-form\">-->\r\n<!--            <div class=\"cont\">-->\r\n<!--            <div class=\"head\">Your feedback is important to us!</div>-->\r\n<!--              <div class=\"stars\">-->\r\n<!--&lt;!&ndash;                <ngx-star-rating [(ngModel)]=\"rating3\" [id]=\"'rating3'\"></ngx-star-rating>&ndash;&gt;-->\r\n<!--                <div class=\"star-rating\" (click)=\"getRating($event, '1')\">-->\r\n<!--                    <img *ngIf=\"rating3 < 1\" src=\"assets/images/grey_1.svg\" alt=\"\">-->\r\n<!--                    <img *ngIf=\"rating3 >=1\" src='{{\"assets/images/color_\"+ rating3 + \".svg\"}}' alt=\"\">-->\r\n<!--                </div>-->\r\n<!--                <div class=\"star-rating\" (click)=\"getRating($event,'2')\">-->\r\n<!--                  <img *ngIf=\"rating3 < 2\" src=\"assets/images/grey_2.svg\" alt=\"\">-->\r\n<!--                  <img *ngIf=\"rating3 >=2\" src='{{\"assets/images/color_\"+ rating3 + \".svg\"}}' alt=\"\">-->\r\n<!--                </div>-->\r\n<!--                <div class=\"star-rating\" (click)=\"getRating($event,'3')\">-->\r\n<!--                  <img *ngIf=\"rating3 < 3\" src=\"assets/images/grey_3.svg\" alt=\"\">-->\r\n<!--                  <img *ngIf=\"rating3 >=3\" src='{{\"assets/images/color_\"+ rating3 + \".svg\"}}' alt=\"\">-->\r\n<!--                </div>-->\r\n<!--                <div class=\"star-rating\"  (click)=\"getRating($event,'4')\">-->\r\n<!--                  <img *ngIf=\"rating3 < 4\" src=\"assets/images/grey_4.svg\" alt=\"\">-->\r\n<!--                  <img *ngIf=\"rating3 >= 4\" src='{{\"assets/images/color_\"+ rating3 + \".svg\"}}' alt=\"\">-->\r\n<!--                </div>-->\r\n<!--                <div class=\"star-rating\" (click)=\"getRating($event,'5')\">-->\r\n<!--                  <img *ngIf=\"rating3 < 5\" src=\"assets/images/grey_5.svg\" alt=\"\">-->\r\n<!--                  <img *ngIf=\"rating3 >= 5\" src='{{\"assets/images/color_\"+ rating3 + \".svg\"}}' alt=\"\">-->\r\n<!--                </div>-->\r\n<!--              </div>-->\r\n<!--            </div>-->\r\n<!--          <div class=\"message\">{{order.status_name | uppercase}}</div>-->\r\n<!--          <div>-->\r\n<!--            <textarea [(ngModel)]=\"feedbackorder\" class=\"form-control\" rows=\"2\" placeholder=\"What would you like to share...\"></textarea>-->\r\n<!--            <button type=\"button\" class=\"btn btn-primary w-100\" (click)=\"feedback()\">SEND FEEDBACK</button>-->\r\n<!--          </div>-->\r\n<!--        </div>-->\r\n<!--  </div>-->\r\n<!--  </div>-->\r\n<!--</div>-->\r\n\r\n<div  *ngIf=\"order.status_name === 'delivered' || order.status_name === 'reached_store'\">\r\n  <div class=\"feedback-popup\">\r\n    <div class=\"s-message\"><img src=\"assets/images/successful.gif\" alt=\"\">Order No: <strong>#{{order.external_id | uppercase}}</strong></div>\r\n    <div class=\"botcont\">\r\n      <div  style=\"text-align: center;font-size: 14px;\r\n           padding: 10px; position: relative; font-weight: bold\"><p>Your order has been delivered successfully.</p></div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<!-- Feedback Pop Up End Here-->\r\n\r\n\r\n<div  *ngIf=\"order.status_name === 'cancelled'\">\r\n    <div class=\"feedback-popup\">\r\n        <div class=\"s-message\"><img src=\"assets/images/cancel.svg\" alt=\"\" style=\"width: 35%;\r\n    /* margin-top: 50%; */\r\n    margin: 16% 0% 15% 0%;\">\r\n            <div class=\"txts\" style=\"margin-bottom: 4%\">\r\n                <p class=\"order-id\">Order No:  <strong>#{{order.external_id | uppercase}}</strong></p></div>\r\n            <p style=\"color: red; font-weight: bold;\">Your order has been Cancelled.</p></div>\r\n    </div>\r\n</div>\r\n\r\n<!-- Order Summary Start Here -->\r\n<section class=\"order-summary-cont\" *ngIf=\"orderSummaryValue\">\r\n  <div class=\"container\">\r\n    <div class=\"row\">\r\n      <div class=\"col-12 info\">Order Info <div (click)=\"orderSummaryValueClose()\" class=\"close-btn\">x</div> </div>\r\n      <div class=\"col-12\">\r\n        <div class=\"summary\">\r\n          <div class=\"order-number\">\r\n            <p class=\"head\"><img src=\"assets/images/order_number.svg\" alt=\"\"> Order Number</p>\r\n            <p class=\"txt blue\">{{order.external_id}}</p>\r\n          </div>\r\n          <div class=\"address\">\r\n            <p class=\"head\"><img src=\"assets/images/location.svg\" alt=\"\"> Delivery Address</p>\r\n            <p class=\"txt\">{{order.delivery_address.google_address}}</p>\r\n          </div>\r\n          <div class=\"mode\">\r\n            <p class=\"head\"><img src=\"assets/images/payment.svg\" alt=\"\"> Payment Mode</p>\r\n            <p class=\"txt\">Paid: <span  class=\"blue\">{{order.payment_type}}</span></p>\r\n          </div>\r\n\r\n          <div class=\"date\">\r\n            <p class=\"head\"><img src=\"assets/images/date_time.svg\" alt=\"\"> Date and Time</p>\r\n            <p class=\"txt\">{{order.created_on | date :  'medium'}}</p>\r\n          </div>\r\n\r\n          <div class=\"items-details\">\r\n            <table>\r\n              <tbody>\r\n              <tr>\r\n                <td colspan=\"2\"><strong>Items</strong></td>\r\n                <td colspan=\"2\" class=\"text-right\"><strong>Amount</strong></td>\r\n              </tr>\r\n              <tr *ngFor=\"let item of order.order_items\">\r\n                <td colspan=\"2\">{{item.notes}} X{{item?.quantity}}</td>\r\n                <td colspan=\"2\" class=\"text-right\">{{item?.amount | currency : currencyCode}}</td>\r\n              </tr>\r\n              <!--              <tr>-->\r\n              <!--                <td><div class=\"f-cat non-veg\"><span></span></div></td>-->\r\n              <!--                <td>Veg Loaded</td>-->\r\n              <!--                <td class=\"text-center\">x 1</td>-->\r\n              <!--                <td class=\"text-right\">₹199.0</td>-->\r\n              <!--              </tr>-->\r\n<!--              <tr>-->\r\n<!--                <td colspan=\"2\" class=\"bold\">Sub Total</td>-->\r\n<!--                <td colspan=\"2\" class=\"bold text-right\">₹{{order.sub_total}}</td>-->\r\n<!--              </tr>-->\r\n<!--              <tr>-->\r\n<!--                <td colspan=\"2\">Discount</td>-->\r\n<!--                <td colspan=\"2\" class=\"text-right discount\">-₹{{(order_Payment?.discount_amount).toFixed(2)}}</td>-->\r\n<!--              </tr>-->\r\n<!--              <tr>-->\r\n<!--                <td colspan=\"2\">Taxes &amp; Charges</td>-->\r\n<!--                <td colspan=\"2\" class=\"text-right\">₹{{order_Payment?.tax}}</td>-->\r\n<!--              </tr>-->\r\n              <tr>\r\n                <td colspan=\"2\"><strong>Grand Total</strong></td>\r\n                  <td colspan=\"2\" class=\"text-right\"><strong>{{order.sub_total | currency: currencyCode}}</strong></td>\r\n              </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</section>\r\n<!-- Order Summary End Here -->\r\n\r\n<!--info button page start here-->\r\n<section class=\"info-window\" *ngIf=\"infoModelValue\">\r\n    <div class=\"container info-popup\">\r\n        <div class=\"close-btn\" (click)=\"infoModelClose()\" style=\"top:10px; right: 30px;\">x</div>\r\n        <div class=\"row\">\r\n            <div class=\"col-12 topimg\">\r\n                <img src=\"assets/images/info-pic.svg\" alt=\"\">\r\n            </div>\r\n        </div>\r\n        <div class=\"row infotext\">\r\n            <div class=\"col-1\">\r\n                <img src=\"assets/images/tick-g.svg\" alt=\"\">\r\n            </div>\r\n            <div class=\"col-11\">\r\n                <p>\r\n                    <strong>Contact-less Delivery</strong>\r\n             On your request for contactless delivery, our delivery executive will leave your order at your doorstep after calling you, once he has reached your location. Please remember to collect the order.</p>\r\n            </div>\r\n            <div class=\"col-1\">\r\n                <img src=\"assets/images/tick-g.svg\" alt=\"\">\r\n            </div>\r\n            <div class=\"col-11\">\r\n                <p>\r\n                    <strong>Daily Body Temperature Check</strong>\r\n                   Our store employees temperature are screened everyday and it is ensured their body temperature is always less than 99.4F/37.4C</p>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"row driverdet\">\r\n            <div class=\"col-12\">\r\n                <p><strong>{{order.rider.name}}</strong><br>\r\n                    <strong>Vaccinated against Covid-19</strong> <span class=\"vc\">View Certificate</span></p>\r\n                <p class=\"bt\">Body Temperature <span class=\"tempr\">{{body_temp}}&#8457;</span></p>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</section>\r\n<!--info button page end here-->\r\n\r\n<script src=\"https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js\" integrity=\"sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p\" crossorigin=\"anonymous\"></script>\r\n<script src=\"https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js\" integrity=\"sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF\" crossorigin=\"anonymous\"></script>\r\n","import { Component, OnInit } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-errorpage',\r\n  templateUrl: './errorpage.component.html',\r\n  styleUrls: ['./errorpage.component.css']\r\n})\r\nexport class ErrorpageComponent implements OnInit {\r\n\r\n  constructor() { }\r\n\r\n  ngOnInit(): void {\r\n  }\r\n\r\n}\r\n","<div id=\"message\">\r\n    <h2>404</h2>\r\n    <h1>Page Not Found</h1>\r\n    <p>The specified file was not found on this website. Please check the URL for mistakes and try again.</p>\r\n    <h3>Why am I seeing this?</h3>\r\n    <p>This page was generated by the Firebase Command-Line Interface. To modify it, edit the <code>404.html</code> file in your project's configured <code>public</code> directory.</p>\r\n</div>\r\n","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {Order} from \"../order\";\r\nimport {OrderService} from \"../order.service\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {interval, Subscription} from \"rxjs\";\r\nimport SmoothMarker from 'smooth-icon-marker';\r\nimport Marker = google.maps.Marker;\r\nimport LatLng = google.maps.LatLng;\r\nimport Polyline = google.maps.Polyline;\r\n\r\n\r\n@Component({\r\n    selector: 'app-googlemap',\r\n    templateUrl: './googlemap.component.html',\r\n    styleUrls: ['./googlemap.component.css']\r\n})\r\nexport class GooglemapComponent implements OnInit {\r\n    @ViewChild('map', {static: false}) mapElement: any;\r\n\r\n    options: google.maps.MapOptions = {\r\n       // zoomControl: true,\r\n      //  gestureHandling: 'greedy',\r\n    }\r\n    riderLatLng: any;\r\n    pickupLatLng: any;\r\n    dropLatLng: any;\r\n    map: any;\r\n    coordinates: any = [];\r\n    markers: any = [];\r\n    order: Order = {} as Order;\r\n    orderHereMapRoutePath = {};\r\n    pollOrderSubscription: any;\r\n    marker:any = [];\r\n    sub: Subscription = new Subscription();\r\n    private oldRiderLatLng: any;\r\n    oldBearingData: any;\r\n    getpoints: any;\r\n    getData = [];\r\n    bikeSvg: any;\r\n    polyline: any;\r\n    constructor(public orderService: OrderService, private http: HttpClient) {\r\n    }\r\n\r\n    async ngOnInit() {\r\n        await this.orderService.init().then();\r\n        this.order = this.orderService.order;\r\n      //  this.mapReady();\r\n        // this.dataFirstCall();\r\n    }\r\n\r\n    mapReady(){\r\n        const mapOptions = {\r\n            center: {\r\n                lat: this.order.delivery_location.latitude,\r\n                lng:  this.order.delivery_location.longitude,\r\n            },\r\n           // zoom: 14,\r\n           // mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n           // disableDefaultUI: true,\r\n        };\r\n\r\n        this.polyline = new Polyline()\r\n        this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\r\n        this.pickupLatLng = {\r\n            lat: this.order.pick_up_location.latitude,\r\n            lng: this.order.pick_up_location.longitude,\r\n        };\r\n        this.markers.push(this.pickupLatLng);\r\n        const pickupMarker = new google.maps.Marker({\r\n            position: new google.maps.LatLng(this.pickupLatLng.lat, this.pickupLatLng.lng\r\n            ),\r\n            icon: {\r\n                url: 'assets/images/store.svg',\r\n                scaledSize: new google.maps.Size(35, 35), // size\r\n            },\r\n            title: '',\r\n        });\r\n        pickupMarker.setMap(this.map);\r\n        google.maps.event.addListener(pickupMarker, 'click', () => {\r\n            const infowindow = new google.maps.InfoWindow({\r\n                content: 'Pickup'\r\n            });\r\n            infowindow.open(this.map, pickupMarker);\r\n        });\r\n        this.dropLatLng = {\r\n            lat: this.order.delivery_location.latitude,\r\n            lng: this.order.delivery_location.longitude,\r\n        };\r\n        this.markers.push(this.dropLatLng);\r\n        const dropMarker = new google.maps.Marker({\r\n            position: new google.maps.LatLng(this.dropLatLng.lat, this.dropLatLng.lng),\r\n            icon: {\r\n                url: 'assets/images/home.svg',\r\n                scaledSize: new google.maps.Size(35, 35), // size\r\n            },\r\n            title: ''\r\n        });\r\n\r\n        dropMarker.setMap(this.map);\r\n        google.maps.event.addListener(dropMarker, 'click', () => {\r\n            const infowindow = new google.maps.InfoWindow({\r\n                content: 'Drop'\r\n            });\r\n            infowindow.open(this.map, dropMarker);\r\n        });\r\n\r\n        this.getRiderPathFromHerePathThenCacheLocally(this.order).then();\r\n\r\n        this.riderLatLng = {\r\n            lat:  this.order.rider_position.latitude,\r\n            lng:  this.order.rider_position.longitude,\r\n        };\r\n\r\n        this.oldRiderLatLng = this.riderLatLng;\r\n\r\n        const riderIcon = {\r\n            url: 'assets/images/bike.svg',\r\n            scaledSize: new google.maps.Size(40, 40),\r\n            rotation: 0\r\n        };\r\n\r\n        const marker1 = new Marker({\r\n            map: this.map,\r\n            icon: riderIcon,\r\n            title: '',\r\n            position: new google.maps.LatLng(this.order.rider_position.latitude, this.order.rider_position.longitude),\r\n        });\r\n\r\n        setTimeout(() => {\r\n            this.map.panTo(new google.maps.LatLng(this.order.rider_position.latitude, this.order.rider_position.longitude));\r\n        }, 200);\r\n\r\n        this.sub = interval(4000)\r\n            .subscribe(() => {\r\n                this.orderService.init().then();\r\n                this.order = this.orderService.order;\r\n\r\n                this.riderLatLng = {\r\n                    lat:  this.order.rider_position.latitude,\r\n                    lng:  this.order.rider_position.longitude,\r\n                };\r\n\r\n                const bearing = this.getBearing(this.oldRiderLatLng.lat, this.oldRiderLatLng.lng, this.riderLatLng.lat, this.riderLatLng.lng);\r\n                const bearingData =Number (bearing.toFixed(0));\r\n                console.log('old bearing', this.oldBearingData);\r\n                if (bearingData === 0){\r\n                    this.bikeSvg = this.oldBearingData - (this.oldBearingData % 15)\r\n                }else {\r\n                    this.bikeSvg = bearingData - (bearingData % 15);\r\n                    this.oldBearingData = bearingData\r\n                }\r\n                marker1.setIcon({\r\n                    url: 'assets/images/svg/' + this.bikeSvg + '.svg',\r\n                    scaledSize: new google.maps.Size(40, 40),\r\n                    rotation: bearing\r\n                })\r\n\r\n                const  newPosition = new google.maps.LatLng(this.order.rider_position.latitude, this.order.rider_position.longitude)\r\n                const  deliveryPosition = new google.maps.LatLng(this.order.delivery_location.latitude, this.order.delivery_location.longitude)\r\n\r\n                console.log(newPosition.lat() +\" lat : \"+ newPosition.lng())\r\n                this.getRiderPathFromHerePathThenCacheLocally(this.order).then();\r\n                moveMarker(newPosition)\r\n                this.map.panTo(newPosition)\r\n                this.oldRiderLatLng = this.riderLatLng;\r\n            });\r\n        if(this.order.status_name === 'delivered' || this.order.status_name === 'cancelled'){\r\n            this.sub.unsubscribe()\r\n        }\r\n        const numDeltas = 1000;\r\n        const delay = 20;\r\n        let i = 0;\r\n\r\n        function moveMarker(linepos: LatLng){\r\n            marker1.setPosition(linepos);\r\n            if(i!=numDeltas){\r\n                i++;\r\n                setTimeout(moveMarker, delay);\r\n            }\r\n        }\r\n    }\r\n\r\n    panMap(newPosition: google.maps.LatLng) {\r\n        setTimeout(() => {\r\n            this.map.panTo(newPosition);\r\n        }, 100);\r\n    }\r\n\r\n    radians(n: number) {\r\n        return n * (Math.PI / 180);\r\n    }\r\n    degrees(n: number) {\r\n        return n * (180 / Math.PI);\r\n    }\r\n\r\n    getBearing(startLat: number, startLong: number, endLat: number, endLong: number){\r\n        startLat = this.radians(startLat);\r\n        startLong = this.radians(startLong);\r\n        endLat = this.radians(endLat);\r\n        endLong = this.radians(endLong);\r\n\r\n        var dLong = endLong - startLong;\r\n\r\n        var dPhi = Math.log(Math.tan(endLat/2.0+Math.PI/4.0)/Math.tan(startLat/2.0+Math.PI/4.0));\r\n        if (Math.abs(dLong) > Math.PI){\r\n            if (dLong > 0.0)\r\n                dLong = -(2.0 * Math.PI - dLong);\r\n            else\r\n                dLong = (2.0 * Math.PI + dLong);\r\n        }\r\n\r\n        return (this.degrees(Math.atan2(dLong, dPhi)) + 360.0) % 360.0;\r\n    }\r\n\r\n    async getRiderPathFromHerePathThenCacheLocally(order: any) {\r\n        let origin, destination;\r\n        if (order.rider_position &&\r\n            order.rider_position.latitude && order.rider_position.longitude) {\r\n\r\n            origin = [ order.rider_position.longitude, order.rider_position.latitude ];\r\n        }\r\n        if (order.delivery_location &&\r\n            order.delivery_location.latitude &&\r\n            order.delivery_location.longitude) {\r\n            destination = [\r\n                order.delivery_location.longitude,\r\n                order.delivery_location.latitude,\r\n            ];\r\n        }\r\n        if (origin && destination) {\r\n            const request = this.http.post(\r\n                'https://routing.roadcast.co.in/ors/v2/directions/driving-car/geojson', {\r\n                    coordinates: [\r\n                        origin, destination,\r\n                    ],\r\n                }).subscribe((res: any) =>{\r\n                this.coordinates = res.features[0].geometry.coordinates;\r\n\r\n\r\n                const coordsClean = this.coordinates.map((x:any) =>{\r\n                    const dataArray =   x.slice();\r\n                    return {lat: x[1], lng:x[0]}\r\n                });\r\n                this.polyline.setMap(null)\r\n                this.polyline = new google.maps.Polyline({ strokeColor: 'blue',\r\n                    map: this.map,\r\n                    path: coordsClean, geodesic: true, visible: true,\r\n                });\r\n                console.log('polylines created')\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","<div #map id=\"map\" style=\"border: 1px solid #35b0e3; height: 50vh; max-width: 100%\"></div>\r\n","import {Injectable} from '@angular/core';\r\nimport {Router} from \"@angular/router\";\r\nimport {HttpBackend, HttpClient} from \"@angular/common/http\";\r\nimport {BehaviorSubject} from \"rxjs\";\r\nimport {environment} from \"../environments/environment\";\r\n\r\n@Injectable({\r\n    providedIn: 'root'\r\n})\r\nexport class OrderService {\r\n    order: any;\r\n    rating: any;\r\n    order_status: any;\r\n    orderPayment: any;\r\n    riderPosition = new BehaviorSubject({lat: 0, lng: 0})\r\n    body_temp: any;\r\n    currencyCode: any;\r\n\r\n    constructor(private router: Router, private httpDirect: HttpClient, handler: HttpBackend) {\r\n        this.httpDirect = new HttpClient(handler);\r\n\r\n    }\r\n\r\n    async init() {\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const myParam = urlParams.get('order_id');\r\n        if (!myParam) {\r\n            await this.router.navigateByUrl('error');\r\n        }\r\n        const api_url = environment.apiUrl;\r\n        const response = await fetch(api_url + 'order/order_tracking/' + myParam, {\r\n            method: \"GET\",\r\n        });\r\n        const data = await response.json()\r\n        this.order = data.data;\r\n        this.rating = data.rating\r\n        this.order_status = data.order_status\r\n        this.orderPayment = data.order_payment[0]\r\n        this.body_temp = data.rider_avail\r\n    }\r\n\r\n    async companyData() {\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        const myParam = urlParams.get('order_id');\r\n        if (!myParam) {\r\n            await this.router.navigateByUrl('error');\r\n        }\r\n        const api_url = environment.apiUrl;\r\n        const company = await fetch(api_url + 'order/get_redis_company/' + myParam, {\r\n            method: \"GET\",\r\n        });\r\n        const companyData = await company.json();\r\n        this.currencyCode = companyData.data.currencyCode;\r\n    }\r\n}\r\n","/* tslint:disable:max-line-length*/\r\nexport const getRiderIconFace = () => {\r\n  return [{\r\n    icon: {\r\n      path: `M11,0C4.9,0,0,4.9,0,11c0,2.9,1.1,5.5,2.9,7.4c0,0,0.1,\r\n0.1,0.1,0.1c2,2.1,4.8,3.4,8,3.4c3.1,0,6-1.3,8-3.4\r\nc0,0,0.1-0.1,0.1-0.1c1.8-2,2.9-4.6,2.9-7.4C22,4.9,17.1,0,11,0z`,\r\n      scale: 1,\r\n      fillColor: '#ffffff',\r\n      fillOpacity: 1,\r\n      rotation: 0,\r\n      anchor: new google.maps.Point(11, 11),\r\n      strokeOpacity: 0,\r\n    },\r\n    offset: '100%',\r\n    fixedRotation: true,\r\n  },\r\n    {\r\n      icon: {\r\n        path: `M11,0C4.9,0,0,4.9,0,11c0,2.9,1.1,5.5,2.9,7.4c0,0,0.1,0.1,0.1,\r\n0.1c2,2.1,4.8,3.4,8,3.4c3.1,0,6-1.3,8-3.4\r\nc0,0,0.1-0.1,0.1-0.1c1.8-2,2.9-4.6,2.9-7.4C22,\r\n4.9,17.1,0,11,0z M11,4.4c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1c-1.7,\r\n0-3.1-1.4-3.1-3.1S9.3,4.4,11,4.4z M11,\r\n20.6c-2.6,0-5-1.1-6.8-2.8C4.7,14.5,7.6,12,11,12c3.4,0,6.3,2.5,6.8,5.8\r\nC16,19.6,13.6,20.6,11,20.6z`,\r\n        scale: 1,\r\n        fillColor: '#0D237D',\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: new google.maps.Point(11, 11),\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: true,\r\n    }];\r\n};\r\n\r\nexport const getRiderIconBike = () => {\r\n  const anchorPoint = new google.maps.Point(480, 480);\r\n  const boxColor = '#006491';\r\n  const shirtColor =  '#00ddff';\r\n  const capColor =  '#c9171d';\r\n  const bikeColor = '#ED3823';\r\n  const iconScale = 0.050;\r\n  const iconList = [\r\n    {\r\n      icon: {\r\n        path: `M496.7,130.7c-12.3-8.9-24.6-8.9-36.9,0c-0.1-8.6-0.3-17.3-0.1-25.9c0.3-10,8.5-17.7,18.6-17.7\r\n\ts18.3,7.6,18.5,17.7C497.1,113.5,496.8,122.1,496.7,130.7z`,\r\n        scale: iconScale,\r\n        fillColor: '#282425',\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n    {\r\n      icon: {\r\n        path: `M382.5,270.6c-3.9,0.6-7.9,1.2-11.9,1.8l-0.1,0c-5,5.6-12.3,5.5-18.9,7.3l-47,10.6c-2.9,0.6-5.8,1.3-8.7,1.9\r\n\tc-5.2,1-10-1.9-11.2-6.6c-1.4-5.1,1.3-10,6.6-11.6c3.4-0.9,6.8-1.4,10.2-2.2l44.3-10c3.6-0.8,7.1-1.6,10.7-2.4\r\n\tc-2.2-6.1-6-8.5-12.9-6.9c-12.8,2.9-25.4,6.4-38.2,9.6c-1.8,0.4-3.5,1-5.3,1.4c-1.5,0.3-3.2,0.5-3.7-1.4c-0.6-2.2,1-2.9,2.7-3.4\r\n\tc4.7-1.2,9.3-2.4,14-3.6c9.2-2.4,18.3-4.8,27.5-7.1c9.7-2.4,15.3,0,20.4,8.6c1.7,2.9,4.9,2.9,7.5,3.9l0.1,0c9.9-2.6,19.8-5,30-6\r\n\tl160.9-0.9c0.7-0.1,1.4-0.1,2-0.2c8.9,2,17.8,3.9,26.7,5.9c1.3,0.4,2.4,0.9,3.4,1.2h0.1c3.7-1,6.6-2.6,8.7-6.4\r\n\tc3.7-6.8,10.4-8.1,17.4-6.5c14.4,3.4,28.7,7.3,43,10.9c1.7,0.4,3.5,1.1,2.9,3.3c-0.7,2.4-2.8,1.8-4.6,1.3c-13.3-3.5-26.7-7-40-10.4\r\n\tc-5-1.3-9.9-1.8-13.8,2.7c-1.9,2.1-2.5,3.9,1.3,4.5c2.2,0.6,4.6,1.2,7.1,1.8l44.2,10.2c3.2,0.6,6.5,1.1,9.7,1.9\r\n\tc5.8,1.4,9,6.2,7.8,11.4c-1.2,5.2-6.1,8.1-11.9,7c-2.9-0.7-5.8-1.4-8.7-2l-47-10.6c-6.2-1.9-13.4-1.4-18.1-7.2h-0.1\r\n\tc-4.1-0.7-8.1-1.3-12.2-2L382.5,270.6z`,\r\n        scale: iconScale,\r\n        fillColor: '#353E44',\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n    {\r\n      icon: {\r\n        path: `M550.3,657.6c-2.9,0-5.8,0-8.7,0c-31.3,0.1-62.6,0.1-93.9,0.2c-10.3,0-20.6-0.1-31-0.1c-2.8,0-5.4,0-8.2,0\r\n\tc0-13.3,0-26.6,0.1-39.9c0-7.2-2.6-221.9-2.9-258.3h-0.4c0-21.8,0-43.6,0-65.5c16.6-3,33.3-4.1,50.1-4.8c30.8-1.3,61.5-0.6,92,3.8\r\n\tc0,20.3,0,40.5,0,60.8l0.1,0C547.4,375,550.3,636.4,550.3,657.6z`,\r\n        scale: iconScale,\r\n        fillColor: '#353E44',\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n    {\r\n      icon: {\r\n        path: `M362.5,449.5c12.5,12,25.6,23.3,39.9,33.2c1.5,1,2,2.4,2.3,4.1c4.6,28.9,9.4,57.8,13.7,86.8\r\n\tc0.9,6.1,3.6,10,8.4,13.3c13,8.8,27.6,12.3,42.9,13.4c15.9,1.1,31.7,0.6,46.9-4.6c3.5-1.2,6.8-2.6,10.1-4.3\r\n\tc8.7-4.4,13.8-10.5,15.1-21c3.6-27.9,8.6-55.6,12.9-83.4c0.3-1.7,0.7-3.2,2.2-4.2c13.4-9.1,25.5-19.8,37.5-30.6\r\n\tc0.8,5.3,0.4,10.6-1.1,15.8c-10,33.7-20,67.5-30,101.2c-2.2,7.3-6.1,13.6-10.7,19.6c-1.1,1.4-2.6,2.6-2.8,4.6\r\n\tc-3.9,1.1-5.8,4.4-8.3,7.2c-2.7,2-5.4,4-8.1,6c-0.3,0.1-0.7,0.1-1,0.2c-23.8,14.1-49.4,16.2-76.1,12c-11.3-1.8-21.7-5.8-31.7-11.2\r\n\tc-2.7-1.9-5.3-3.9-8-5.8c-2.8-2.4-5.5-4.7-8.3-7.1c-0.2,0-0.4,0-0.6,0c-15-17-18.4-38.9-24.7-59.6c-6.8-22.2-13.2-44.5-19.8-66.8\r\n\tC361.6,462,360.9,455.8,362.5,449.5z`,\r\n        scale: iconScale,\r\n        fillColor: '#613915',\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n    {\r\n      icon: {\r\n        path: `M334.9,319.5c0.1,3.3,0.3,6.5,0.4,9.9c0.9,2.9,0.1,6.2,1.5,9c1,10.2,3.5,19.9,7.9,29.1h-0.1\r\n\tc-0.1,0.3,0,0.7,0.3,0.9c11.4,27.7,31.4,46.7,58.9,58.2c0.5,0.2,1.1,0.5,1.6,0.7c4.9,1.8,9.3,5.6,15.2,3.8c1.7,7.2,4.2,14,7.9,20.4\r\n\tc21.9,38.4,70.7,42.3,97.9,7.8c6.6-8.4,10.3-18.1,13.4-28.1c2.9,1.8,5.3-0.3,7.9-1.1c3.2-1.2,6.6-2.3,9.7-3.7\r\n\tc18.3-8.3,34.1-19.7,45.6-36.5c11-14.3,17.1-30.7,19.8-48.5c0.7-4,1-7.9,1.7-11.9c0.1-3.7,0.3-7.5,0.2-11.2c0.1-2.2,0.6-3.5,2.9-3.7\r\n\tc0,0,0.1,0,0.1,0c0.1-4.2-1.6-7.8-4.1-11.1c-1.3-3.1-4.3-3.2-7-4c-4.4-1.2-9.1-1.8-12.7-5.1c-4.2-3.8-3.4-9.7,1.8-11.9\r\n\tc1.5-0.7,2.1-1.4,2.1-2.8c2.9-5.7,3.4-12.1,5.9-17.9c2.9-2.2,5.8-2.3,9.3-1.3c9.6,2.6,19.2,4.8,28.8,6.9c2.8,0.6,4.8,2,6.1,4.5\r\n\tc0.8,2,0.8,4.1,0.3,6.2c-1.1,4.1-2.3,8.1-3.4,12.1c-0.3,1.1-0.7,2.2-1,3.3c-1,1.5-1.2,3.2-1.3,4.9c-1.9,3.1,0.4,6,0.3,9.1\r\n\tc0,1,0,2,0,3c4-0.8,4.2,0.8,4.9,5c0.4,2.9,0.5,5.9,0.4,8.8c-0.2,2-0.3,4-0.5,6c-0.3,2.3-0.7,4.6-1,6.9\r\n\tc-3.6,21.9-10.9,42.6-21.6,62.1c-9.1,16.2-20.3,30.7-32.3,44.4c-2.7,2.8-5.4,5.6-8.1,8.4c-12,10.8-24.1,21.5-37.5,30.6\r\n\tc-1.5,1-2,2.5-2.2,4.2c-4.4,27.8-9.3,55.5-12.9,83.4c-1.4,10.5-6.5,16.7-15.1,21c-3.3,1.6-6.7,3.1-10.1,4.3\r\n\tc-15.3,5.2-31.1,5.7-46.9,4.6c-15.3-1.1-29.9-4.6-42.9-13.4c-4.8-3.2-7.5-7.2-8.4-13.3c-4.3-29-9.1-57.9-13.7-86.8\r\n\tc-0.3-1.8-0.8-3.1-2.3-4.1c-14.3-9.8-27.4-21.2-39.9-33.2c-15.1-16-28.7-33.2-39-52.7c-11.9-22.8-19.9-46.6-21.5-72.4\r\n\tc-0.1-3.1,0-6.3-0.4-9.4c-0.5-4,0.9-5.5,4.8-4.4c1.4-6.9,2.1-13.8-1.9-20.2c0.3-1.9-0.6-3.5-1.1-5.2c-1.4-4.3-3-8.6-2-13.3\r\n\tc1.1-2.4,3.1-3.8,5.7-4.4c10.7-2.6,21.5-5.1,32.2-7.7c2.6-0.6,4.4,0.8,6.4,2c1.9,6,3.9,11.9,5.8,17.9c0,1.3,0.7,2,1.9,2.6\r\n\tc6.6,3.4,6.8,9.2,0.7,13.3c-2.5,1.7-5.4,2.7-8.3,3.1c-9.5,1-12.9,7.4-14.1,15.9C335.6,314.5,334.9,319.5,334.9,319.5z`,\r\n        scale: iconScale,\r\n        fillColor: '#FBC488',\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n    {\r\n      icon: {\r\n        path: `M302.2,324.3c-0.1-3.1,0-6.3-0.4-9.4c-0.5-4,0.9-5.5,4.8-4.4c8.4,1.3,16.8,2.7,25.2,4c3.5,0.1,2.7,2.9,3.1,5\r\n\tc0.1,3.3,0.3,6.5,0.4,9.9l0,0c0.9,2.9,0.1,6.2,1.5,9c1,10.2,3.5,19.9,7.9,29.1h-0.1c-0.1,0.3,0,0.7,0.3,0.9\r\n\tc11.4,27.7,31.4,46.7,58.9,58.2c0.5,0.2,1.1,0.5,1.6,0.7c4.9,1.8,9.3,5.6,15.2,3.8c1.7,7.2,4.2,14,7.9,20.4\r\n\tc21.9,38.4,70.7,42.3,97.9,7.8c6.6-8.4,10.3-18.1,13.4-28.1c2.9,1.8,5.3-0.3,7.9-1.1c3.2-1.2,6.6-2.3,9.7-3.7\r\n\tc18.3-8.3,34.1-19.7,45.6-36.5c11-14.3,17.1-30.7,19.8-48.5c0.7-4,1-7.9,1.7-11.9l0,0c0.1-3.7,0.3-7.5,0.2-11.2\r\n\tc0.1-2.2,0.6-3.5,2.9-3.7c8.4-1.4,16.8-2.7,25.1-4.1c4.1-0.8,4.3,0.7,5,5c0.4,2.9,0.5,5.9,0.4,8.8c-0.2,2-0.3,4-0.5,6\r\n\tc-0.3,2.3-0.7,4.6-1,6.9c-3.6,21.9-10.9,42.6-21.6,62.1c-9.1,16.2-20.3,30.7-32.3,44.4c-2.7,2.8-5.4,5.6-8.1,8.4\r\n\tc-12,10.8-24.1,21.5-37.5,30.6c-1.5,1-2,2.5-2.2,4.2c-4.4,27.8-9.3,55.5-12.9,83.4c-1.4,10.5-6.5,16.7-15.1,21\r\n\tc-3.3,1.6-6.7,3.1-10.1,4.3c-15.3,5.2-31.1,5.7-46.9,4.6c-15.3-1.1-29.9-4.6-42.9-13.4c-4.8-3.2-7.5-7.2-8.4-13.3\r\n\tc-4.3-29-9.1-57.9-13.7-86.8c-0.3-1.8-0.8-3.1-2.3-4.1c-14.3-9.8-27.4-21.2-39.9-33.2c-15.1-16-28.7-33.2-39-52.7\r\n\tC311.8,373.9,303.8,350.1,302.2,324.3L302.2,324.3z`,\r\n        scale: iconScale,\r\n        fillColor: shirtColor,\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n    {\r\n      icon: {\r\n        path: `M540.4,406.6c-0.3-7.4-3.2-14.1-4.8-21.1c0-0.1-0.1-0.1-0.1-0.2c0.6-13.1-0.7-26.1-4.8-38.7\r\n\tc-4.6-14.5-13.8-24.5-29.1-27.9c-12.3-2.8-24.8-2.9-37.2-0.8c-17,3-28.7,12.5-34.7,28.8c-4.7,12.8-6.1,26.1-5.7,39.7h0.1\r\n\tc-2.6,7.9-5,15.7-5,24.1c-1.1,7,0.1,13.9,1.3,20.8c1.7,7.2,4.2,14,7.9,20.4c21.9,38.4,70.7,42.3,97.9,7.8\r\n\tc6.6-8.4,10.4-18.1,13.4-28.1C540.6,423.2,541.5,414.9,540.4,406.6`,\r\n        scale: iconScale,\r\n        fillColor: capColor,\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n    {\r\n      icon: {\r\n        path: `M586.9,734.5c0,35-0.1,70-0.1,104.9c0,20.9-12.3,33.2-33.2,33.2c-43.6,0-87.3,0-130.9,0c-2,0-4,0.1-6,0.2\r\n\tc-3.7-0.1-7.3-0.2-11-0.2c-19.7,0-32.6-12.7-32.7-32.4c-0.1-32.8,0-65.7,0-98.5c0-2.3-0.2-4.7-0.2-7c0.1-14.4,0.1-28.8,0.2-43.2\r\n\tc0.1-7.8,1.5-15.1,6.5-21.5c7.4-9.6,17.6-12.4,29-12.4c2.8,0,5.6,0,8.3,0c10.3,0.1,20.6,0.2,31,0.1c31.3,0,62.6-0.1,93.9-0.2\r\n\tc2.9,0,5.8,0,8.7,0c1.3,0.1,2.6,0.2,4,0.2c21.1-0.3,33.5,16.7,32.6,33C586.2,705.3,586.9,719.9,586.9,734.5z`,\r\n        scale: iconScale,\r\n        fillColor: boxColor,\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n    {\r\n      icon: {\r\n        path: `M594,303.1c-15.7-4.6-31-8.6-46.7-10.3c-30.5-4.4-61.2-5-92-3.8c-16.7,0.9-33.5,2-50,5\r\n\tc-2.2,0.4-4.6,0.2-6.7,1.3c-2.7,0-5.3,0.7-7.9,1.5c-8.5,1.4-16.6,4.1-24.8,6.6c0.2-1.5,0.6-3,0.8-4.5c1.1-2,2.2-3.7,3.3-5.7\r\n\tc0.3-0.3,0.3-0.6,0.2-1.1l-0.1-0.2h0c3-7.8,7.7-14.6,12.4-21.4c4.5-5.6,10.1-10,15.2-15.1c0.6-0.6,1.4-1.1,2.2-1.4\r\n\tc0.4-0.1,0.7-0.3,1.1-0.5c11.8-7.4,24.3-12.9,38-15.4l0.2,0.1c1.3-2-0.3-3.8-0.6-5.6c-1.2-7.2-2-14.3,1.1-21.2\r\n\tc2.3,5.4,6.5,7.9,11.3,9.3c0-20.9-0.2-57.3-0.1-70c0-7.9,3.8-14.3,9.1-19.9c12.3-8.9,24.6-8.9,36.9,0c3.3,3.5,5.9,7.4,7.9,11.8\r\n\tc2.3,10.8,0.8,21.8,1.1,32.6c0.2,5.1,0,32.2-0.1,46.4c5.7-1.1,11-3.5,14.9-8.9c3.7,6.9,2.1,14,0.8,21c-0.3,1.5-1.5,3-0.2,4.5\r\n\tc13.8,2.3,26.4,8.1,38.3,15.5c6.4,5.1,12.6,10.5,17.9,16.8c4.7,7.1,9.7,14,12.6,22.1c0.5,0.7,1,1.4,1.5,2.2\r\n\tC592.3,297.2,593,299.7,594,303.1z`,\r\n        scale: iconScale,\r\n        fillColor: bikeColor,\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n    {\r\n      icon: {\r\n        path: `M476.1,222.4c-7.8,0-14.2-0.4-20.1-1.3c-6.1-0.9-12.8-2.7-15.9-9.9c1.4-6,5.8-9.7,10.4-13.5l0.8-0.7\r\n\t\tc9-4.2,18.2-6.3,28.1-6.3c8.3,0,16.9,1.4,26.2,4.4c0.7,0.5,1.3,0.9,2,1.4c3.9,2.6,7.9,5.3,10.3,9.6c0.2,0.4,0.4,0.7,0.7,1.1\r\n\t\tc1,1.5,2,3.1,1.6,5.2c-5.7,8-14.8,9.3-22.9,9.5c-2.4,0.1-4.7,0.1-7.1,0.2C485.5,222.2,480.7,222.4,476.1,222.4\r\n\t\tC476.1,222.4,476.1,222.4,476.1,222.4z`,\r\n        scale: iconScale,\r\n        fillColor: '#FFFFFF',\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n    {\r\n      icon: {\r\n        path: `M479.4,191.2c8.2,0,16.7,1.4,26,4.4c0.7,0.5,1.3,0.9,2,1.3c4,2.7,7.8,5.2,10.1,9.5c0.2,0.4,0.4,0.7,0.7,1.1\r\n\t\tc1,1.5,1.9,2.9,1.6,4.7c-3.1,4.4-8.3,8.9-22.5,9.2c-2.4,0.1-4.7,0.1-7.1,0.2c-4.6,0.1-9.3,0.3-14,0.3c-7.8,0-14.2-0.4-20-1.3\r\n\t\tc-5.9-0.8-12.4-2.6-15.5-9.4c1.4-5.8,5.7-9.3,10.2-13.1l0.8-0.6C460.4,193.3,469.5,191.2,479.4,191.2 M479.4,190.2\r\n\t\tc-9.5,0-19,1.9-28.4,6.4c-4.9,4.1-10,8-11.5,14.7c3.1,7.1,9.4,9.3,16.4,10.3c6.7,1,13.4,1.3,20.2,1.3c7,0,14.1-0.3,21.1-0.5\r\n\t\tc8.8-0.2,17.7-1.7,23.4-9.8c0.6-2.8-1.2-4.8-2.3-6.7c-2.9-5.2-7.9-8-12.5-11.2C496.9,191.9,488.1,190.2,479.4,190.2L479.4,190.2z`,\r\n        scale: iconScale,\r\n        fillColor: '#ED3823',\r\n        fillOpacity: 1,\r\n        rotation: 0,\r\n        anchor: anchorPoint,\r\n        strokeOpacity: 0,\r\n      },\r\n      offset: '100%',\r\n      fixedRotation: false,\r\n    },\r\n\r\n  ];\r\n  /*\r\n    if (config.extraIcons && config.extraIcons.length) {\r\n      config.extraIcons.forEach((element: { path: any; fillColor: any; }) => {\r\n        iconList.push({\r\n          icon: {\r\n            path: element.path,\r\n            scale: iconScale,\r\n            fillColor: element.fillColor,\r\n            fillOpacity: 1,\r\n            rotation: 0,\r\n            anchor: anchorPoint,\r\n            strokeOpacity: 0,\r\n          },\r\n          offset: '100%',\r\n          fixedRotation: false,\r\n        });\r\n      });\r\n    }\r\n  */\r\n  return iconList;\r\n};\r\n","import {Component, OnInit, ViewChild} from '@angular/core';\r\nimport {OrderService} from \"../order.service\";\r\nimport {Geom, Order} from \"../order\";\r\nimport {debounceTime, interval, Subject, Subscription} from \"rxjs\";\r\nimport {HttpClient} from \"@angular/common/http\";\r\nimport {getRiderIconBike} from \"../riderIcon\";\r\nimport {environment} from '../../environments/environment';\r\nimport * as HereFlexible from '../here-flexible-polyline';\r\nimport Polyline = google.maps.Polyline;\r\nimport LatLngLiteral = google.maps.LatLngLiteral;\r\n\r\n@Component({\r\n    selector: 'app-test-map',\r\n    templateUrl: './test-map.component.html',\r\n    styleUrls: ['./test-map.component.css']\r\n})\r\nexport class TestMapComponent implements OnInit {\r\n    @ViewChild('map', {static: false}) mapElement: any;\r\n\r\n    riderLatLng: any;\r\n    pickupLatLng: any;\r\n    dropLatLng: any;\r\n    map: any;\r\n    coordinates: LatLngLiteral[] = [];\r\n    markers: any = [];\r\n    order: Order = {} as Order;\r\n    subscribe: Subscription = new Subscription();\r\n    riderPolyLine = new Polyline();\r\n    pathPolyLine = new Polyline();\r\n    riderMovementPath: LatLngLiteral[] = [];\r\n    movementSubject: Subject<string> = new Subject();\r\n\r\n    riderSpeed = 15;\r\n\r\n    iconInitialized = false;\r\n    firstRiderMove = true;\r\n\r\n\r\n    constructor(public orderService: OrderService, private http: HttpClient) {\r\n    }\r\n\r\n    async ngOnInit() {\r\n        await this.orderService.init().then();\r\n        this.order = this.orderService.order;\r\n        this.mapReady();\r\n        this.movementSubject.pipe(\r\n            debounceTime(this.riderSpeed)\r\n        ).subscribe((a?: any) => {\r\n            if (this.iconInitialized) {\r\n                this.moveRider();\r\n            }\r\n        });\r\n    }\r\n\r\n    mapReady() {\r\n        this.riderPolyLine = new Polyline();\r\n        this.pathPolyLine = new Polyline();\r\n        this.map = new google.maps.Map(document.getElementById(\"map\") as HTMLElement, {\r\n            center: {\r\n                lat: this.order.delivery_location.latitude,\r\n                lng: this.order.delivery_location.longitude,\r\n            },\r\n            zoom: 14,\r\n            mapTypeId: google.maps.MapTypeId.ROADMAP,\r\n            disableDefaultUI: true,\r\n            scrollwheel: true,\r\n            mapTypeControl: false,\r\n            scaleControl: false,\r\n            draggable: true,\r\n            disableDoubleClickZoom: true,\r\n            zoomControl: false,\r\n            gestureHandling: 'greedy'\r\n        });\r\n        this.pickupLatLng = {\r\n            lat: this.order.pick_up_location.latitude,\r\n            lng: this.order.pick_up_location.longitude,\r\n        };\r\n        this.markers.push(this.pickupLatLng);\r\n        const pickupMarker = new google.maps.Marker({\r\n            position: new google.maps.LatLng(this.pickupLatLng.lat, this.pickupLatLng.lng\r\n            ),\r\n            icon: {\r\n                url: 'assets/images/store.svg',\r\n                scaledSize: new google.maps.Size(48, 48), // size\r\n            },\r\n            title: '',\r\n        });\r\n        pickupMarker.setMap(this.map);\r\n        google.maps.event.addListener(pickupMarker, 'click', () => {\r\n            const infowindow = new google.maps.InfoWindow({\r\n                content: \"Domino's store\"\r\n            });\r\n            infowindow.open(this.map, pickupMarker);\r\n        });\r\n        this.dropLatLng = {\r\n            lat: this.order.delivery_location.latitude,\r\n            lng: this.order.delivery_location.longitude,\r\n        };\r\n        this.markers.push(this.dropLatLng);\r\n        const dropMarker = new google.maps.Marker({\r\n            position: new google.maps.LatLng(this.dropLatLng.lat, this.dropLatLng.lng),\r\n            icon: {\r\n                url: 'assets/images/home.svg',\r\n                scaledSize: new google.maps.Size(48, 48), // size\r\n            },\r\n            title: ''\r\n        });\r\n\r\n        dropMarker.setMap(this.map);\r\n        google.maps.event.addListener(dropMarker, 'click', () => {\r\n            const infowindow = new google.maps.InfoWindow({\r\n                content: 'Drop'\r\n            });\r\n            infowindow.open(this.map, dropMarker);\r\n        });\r\n\r\n        this.getRiderPathFromHerePathThenCacheLocally(this.order).then();\r\n\r\n        this.riderLatLng = {\r\n            lat: this.order.rider_position.latitude,\r\n            lng: this.order.rider_position.longitude,\r\n        };\r\n        // if (this.order.rider_position.latitude === null && this.order.rider_position.longitude === null){\r\n        //     const bounds = new google.maps.LatLngBounds(this.dropLatLng, this.pickupLatLng);\r\n        //     this.map.fitBounds(bounds);\r\n        // }else{\r\n            this.orderService.riderPosition.subscribe(res => {\r\n                const bounds = new google.maps.LatLngBounds(res);\r\n                this.map.fitBounds(bounds);\r\n                this.map.setZoom(15);\r\n            })\r\n        // }\r\n\r\n        const handlePollingPosition = async (lat: number, lng: number) => {\r\n            let oldLat = this.riderLatLng.lat;\r\n            let oldLng = this.riderLatLng.lng;\r\n\r\n            if (this.riderMovementPath.length) {\r\n                const latLng = this.riderMovementPath[this.riderMovementPath.length - 1 ];\r\n                oldLat = latLng.lat;\r\n                oldLng = latLng.lng;\r\n            }\r\n\r\n            const coords = await this.calculateRiderMovementPath({\r\n                latitude: oldLat,\r\n                longitude: oldLng\r\n            }, {\r\n                latitude: lat,\r\n                longitude: lng\r\n            });\r\n            this.riderMovementPath.push(...coords);\r\n            this.movementSubject.next('true');\r\n        }\r\n\r\n        this.map.setCenter(new google.maps.LatLng(this.order.rider_position.latitude, this.order.rider_position.longitude));\r\n        handlePollingPosition(this.order.rider_position.latitude, this.order.rider_position.longitude).then();\r\n        this.subscribe = interval(3000)\r\n            .subscribe(async () => {\r\n                if (!document.hasFocus()) {\r\n                    console.log('Browser tab is changed; skipping polling');\r\n                    return;\r\n                }\r\n                this.orderService.init().then();\r\n                this.order = this.orderService.order;\r\n                if (this.riderLatLng.lat !== this.order.rider_position.latitude || this.riderLatLng.lng !== this.order.rider_position.longitude) {\r\n                    handlePollingPosition(this.order.rider_position.latitude, this.order.rider_position.longitude).then();\r\n                }\r\n\r\n            });\r\n        if (this.order.status_name === 'delivered' || this.order.status_name === 'cancelled') {\r\n            this.subscribe.unsubscribe()\r\n        }\r\n\r\n    }\r\n\r\n    moveRider() {\r\n        if (!this.riderMovementPath.length) {\r\n            return;\r\n        }\r\n            const latLng = this.riderMovementPath.shift();\r\n            this.riderLatLng = latLng;\r\n            console.log('riderMovement', this.riderMovementPath);\r\n        if (this.firstRiderMove || (this.riderMovementPath.length !== 0)) {\r\n            console.log('check passed...........');\r\n            this.firstRiderMove = false;\r\n            if (latLng) {\r\n                this.riderPolyLine.getPath().push(new google.maps.LatLng(latLng));\r\n            }\r\n            if (this.riderMovementPath.length) {\r\n                this.movementSubject.next('true');\r\n            }\r\n        }\r\n    }\r\n\r\n    generateAnimationPath(a:LatLngLiteral, b: LatLngLiteral): LatLngLiteral[] {\r\n        let coords: LatLngLiteral[] = [];\r\n        let metres = Math.round(google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(a),\r\n            new google.maps.LatLng(b)));\r\n\r\n        metres *= 10;\r\n\r\n        const deltaLat = (b.lat - a.lat)/metres;\r\n        const deltaLng = (b.lng - a.lng)/metres;\r\n\r\n        let lat = a.lat;\r\n        let lng = a.lng;\r\n\r\n        for (let i = 0; i <= metres; i++) {\r\n            lat += deltaLat;\r\n            lng += deltaLng;\r\n            coords.push({lat, lng});\r\n        }\r\n\r\n        return coords;\r\n    }\r\n\r\n    async calculateRiderMovementPath(a: Geom, b: Geom): Promise<LatLngLiteral[]> {\r\n        let coords: LatLngLiteral[] = [];\r\n        let lowestDistance = 10000;\r\n        let lowestIndex = 0;\r\n        this.coordinates.forEach((pathCord, index) => {\r\n            const diff = google.maps.geometry.spherical.computeDistanceBetween(new google.maps.LatLng(b.latitude, b.longitude),\r\n                new google.maps.LatLng(pathCord.lat, pathCord.lng));\r\n            if (diff <= lowestDistance) {\r\n                lowestDistance = diff;\r\n                lowestIndex = index;\r\n            }\r\n        });\r\n\r\n        if (lowestDistance < 50) {\r\n            // rider is on plotted path\r\n            const riderMovementCoords = this.coordinates.splice(0, lowestIndex);\r\n            riderMovementCoords.forEach((coordinate) => {\r\n                if (coords.length) {\r\n                    coords.push(...this.generateAnimationPath(coords[coords.length - 1], coordinate));\r\n                } else {\r\n                    // coords.push(...this.generateAnimationPath({lat: a.latitude, lng: a.longitude}, coordinate));\r\n                }\r\n                coords.push(coordinate)\r\n            });\r\n            if (coords.length) {\r\n                coords.shift();\r\n            }\r\n        } else {\r\n            coords = await this.fetchRouteFromHereMaps(a, b);\r\n            this.riderMovementPath = [];\r\n            this.getRiderPathFromHerePathThenCacheLocally(this.order, false).then();\r\n        }\r\n        return coords;\r\n    }\r\n\r\n    async getRiderPathFromHerePathThenCacheLocally(order: any, initial= true) {\r\n        let origin: Geom | undefined = undefined, destination: Geom | undefined = undefined;\r\n        if (order.rider_position && order.rider_position.latitude && order.rider_position.longitude) {\r\n            origin = {latitude: order.rider_position.latitude, longitude: order.rider_position.longitude};\r\n        }\r\n        if (order.delivery_location &&\r\n            order.delivery_location.latitude &&\r\n            order.delivery_location.longitude) {\r\n            destination = {latitude: order.delivery_location.latitude, longitude: order.delivery_location.longitude};\r\n        }\r\n        if (!origin || !destination) {\r\n            return;\r\n        }\r\n        this.coordinates = await this.fetchRouteFromHereMaps(origin, destination);\r\n        try {\r\n            this.pathPolyLine.setMap(null);\r\n        } catch (e) {\r\n            console.log(e);\r\n        }\r\n        this.pathPolyLine = new google.maps.Polyline({\r\n            strokeColor: '#0047b3',\r\n            map: this.map,\r\n            path: this.coordinates, geodesic: true, visible: true,\r\n        });\r\n        if (initial) {\r\n            this.iconInitialized = true;\r\n            this.riderPolyLine = new google.maps.Polyline({\r\n                strokeColor: '#0078AC',\r\n                strokeOpacity: 0,\r\n                map: this.map,\r\n                path: [{lat: origin.latitude + 0.0000001, lng: origin.longitude + 0.00000001}],\r\n                icons: getRiderIconBike(),\r\n                zIndex: 9999999999999999999,\r\n            });\r\n            const zoomToObject = (obj: { getPath: () => { (): any; new(): any; getArray: { (): any; new(): any; }; }; }) => {\r\n                const bounds = new google.maps.LatLngBounds();\r\n                const points = obj.getPath().getArray();\r\n                for (let n = 0; n < points.length; n++) {\r\n                    bounds.extend(points[n]);\r\n                }\r\n                this.map.fitBounds(bounds);\r\n            };\r\n            zoomToObject(this.pathPolyLine as any);\r\n            this.moveRider();\r\n        }\r\n\r\n    }\r\n\r\n\r\n    async fetchRouteFromHereMaps(a: Geom, b: Geom): Promise<LatLngLiteral[]> {\r\n        try {\r\n            const response: HereResponse = (await this.http.get(\r\n                'https://router.hereapi.com/v8/routes', {\r\n                    params: {\r\n                        origin: `${a.latitude},${a.longitude}`,\r\n                        transportMode: 'car',\r\n                        destination: `${b.latitude},${b.longitude}`,\r\n                        'return': 'polyline',\r\n                        apikey: environment.hereApiKey\r\n                    },\r\n                }).toPromise()) as HereResponse;\r\n            const latLngList = HereFlexible.decode(response.routes[0].sections[0].polyline).polyline;\r\n            return latLngList.map((x: any) => {\r\n                return {lat: x[0], lng: x[1]}\r\n            })\r\n        } catch (e) {\r\n            console.error(e);\r\n            return [];\r\n        }\r\n    }\r\n}\r\n\r\nexport interface HereResponse {\r\n    routes: HereResponseRoute[];\r\n}\r\n\r\nexport interface HereResponseRoute {\r\n    id: string;\r\n    sections: HereResponseRouteSection[],\r\n}\r\n\r\nexport interface HereResponseRouteSection {\r\n    id: string;\r\n    type: string;\r\n    departure: any;\r\n    arrival: any;\r\n    polyline: string;\r\n    transport: {\r\n        mode: string;\r\n    };\r\n}\r\n","<div id=\"map\" style=\"border: 0px solid #35b0e3; height: 60vh; max-width: 100%\"></div>\r\n","// This file can be replaced during build by using the `fileReplacements` array.\r\n// `ng build` replaces `environment.ts` with `environment.prod.ts`.\r\n// The list of file replacements can be found in `angular.json`.\r\n\r\nexport const environment = {\r\n  appVersion: require('../../package.json').version + '-test',\r\n  production: false,\r\n  apiUrl: 'https://synco-test-api.roadcast.co.in/api/v1/',\r\n  hereApiKey: '3Xz_d2T_zyHKm1WhBNRAdtmToAQ_HhLmWtMstKeFo34',\r\n};\r\n\r\n/*\r\n * For easier debugging in development mode, you can import the following file\r\n * to ignore zone related error stack frames such as `zone.run`, `zoneDelegate.invokeTask`.\r\n *\r\n * This import should be commented out in production mode because it will have a negative impact\r\n * on performance if an error is thrown.\r\n */\r\n// import 'zone.js/plugins/zone-error';  // Included with Angular CLI.\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.error(err));\r\n","var map = {\n\t\"./af\": 2275,\n\t\"./af.js\": 2275,\n\t\"./ar\": 857,\n\t\"./ar-dz\": 1218,\n\t\"./ar-dz.js\": 1218,\n\t\"./ar-kw\": 4754,\n\t\"./ar-kw.js\": 4754,\n\t\"./ar-ly\": 6680,\n\t\"./ar-ly.js\": 6680,\n\t\"./ar-ma\": 2178,\n\t\"./ar-ma.js\": 2178,\n\t\"./ar-sa\": 6522,\n\t\"./ar-sa.js\": 6522,\n\t\"./ar-tn\": 5682,\n\t\"./ar-tn.js\": 5682,\n\t\"./ar.js\": 857,\n\t\"./az\": 164,\n\t\"./az.js\": 164,\n\t\"./be\": 9774,\n\t\"./be.js\": 9774,\n\t\"./bg\": 947,\n\t\"./bg.js\": 947,\n\t\"./bm\": 1832,\n\t\"./bm.js\": 1832,\n\t\"./bn\": 9650,\n\t\"./bn-bd\": 4477,\n\t\"./bn-bd.js\": 4477,\n\t\"./bn.js\": 9650,\n\t\"./bo\": 6005,\n\t\"./bo.js\": 6005,\n\t\"./br\": 8492,\n\t\"./br.js\": 8492,\n\t\"./bs\": 534,\n\t\"./bs.js\": 534,\n\t\"./ca\": 2061,\n\t\"./ca.js\": 2061,\n\t\"./cs\": 4737,\n\t\"./cs.js\": 4737,\n\t\"./cv\": 1167,\n\t\"./cv.js\": 1167,\n\t\"./cy\": 7996,\n\t\"./cy.js\": 7996,\n\t\"./da\": 9528,\n\t\"./da.js\": 9528,\n\t\"./de\": 4540,\n\t\"./de-at\": 9430,\n\t\"./de-at.js\": 9430,\n\t\"./de-ch\": 7978,\n\t\"./de-ch.js\": 7978,\n\t\"./de.js\": 4540,\n\t\"./dv\": 3426,\n\t\"./dv.js\": 3426,\n\t\"./el\": 6616,\n\t\"./el.js\": 6616,\n\t\"./en-au\": 3816,\n\t\"./en-au.js\": 3816,\n\t\"./en-ca\": 2162,\n\t\"./en-ca.js\": 2162,\n\t\"./en-gb\": 3305,\n\t\"./en-gb.js\": 3305,\n\t\"./en-ie\": 1954,\n\t\"./en-ie.js\": 1954,\n\t\"./en-il\": 3060,\n\t\"./en-il.js\": 3060,\n\t\"./en-in\": 9923,\n\t\"./en-in.js\": 9923,\n\t\"./en-nz\": 3540,\n\t\"./en-nz.js\": 3540,\n\t\"./en-sg\": 6505,\n\t\"./en-sg.js\": 6505,\n\t\"./eo\": 1907,\n\t\"./eo.js\": 1907,\n\t\"./es\": 6640,\n\t\"./es-do\": 1246,\n\t\"./es-do.js\": 1246,\n\t\"./es-mx\": 6131,\n\t\"./es-mx.js\": 6131,\n\t\"./es-us\": 6430,\n\t\"./es-us.js\": 6430,\n\t\"./es.js\": 6640,\n\t\"./et\": 2551,\n\t\"./et.js\": 2551,\n\t\"./eu\": 2711,\n\t\"./eu.js\": 2711,\n\t\"./fa\": 4572,\n\t\"./fa.js\": 4572,\n\t\"./fi\": 3390,\n\t\"./fi.js\": 3390,\n\t\"./fil\": 7860,\n\t\"./fil.js\": 7860,\n\t\"./fo\": 8216,\n\t\"./fo.js\": 8216,\n\t\"./fr\": 9291,\n\t\"./fr-ca\": 8527,\n\t\"./fr-ca.js\": 8527,\n\t\"./fr-ch\": 8407,\n\t\"./fr-ch.js\": 8407,\n\t\"./fr.js\": 9291,\n\t\"./fy\": 7054,\n\t\"./fy.js\": 7054,\n\t\"./ga\": 9540,\n\t\"./ga.js\": 9540,\n\t\"./gd\": 3917,\n\t\"./gd.js\": 3917,\n\t\"./gl\": 1486,\n\t\"./gl.js\": 1486,\n\t\"./gom-deva\": 6245,\n\t\"./gom-deva.js\": 6245,\n\t\"./gom-latn\": 8868,\n\t\"./gom-latn.js\": 8868,\n\t\"./gu\": 9652,\n\t\"./gu.js\": 9652,\n\t\"./he\": 9019,\n\t\"./he.js\": 9019,\n\t\"./hi\": 2040,\n\t\"./hi.js\": 2040,\n\t\"./hr\": 3402,\n\t\"./hr.js\": 3402,\n\t\"./hu\": 9322,\n\t\"./hu.js\": 9322,\n\t\"./hy-am\": 7609,\n\t\"./hy-am.js\": 7609,\n\t\"./id\": 7942,\n\t\"./id.js\": 7942,\n\t\"./is\": 8275,\n\t\"./is.js\": 8275,\n\t\"./it\": 3053,\n\t\"./it-ch\": 4378,\n\t\"./it-ch.js\": 4378,\n\t\"./it.js\": 3053,\n\t\"./ja\": 6176,\n\t\"./ja.js\": 6176,\n\t\"./jv\": 679,\n\t\"./jv.js\": 679,\n\t\"./ka\": 2726,\n\t\"./ka.js\": 2726,\n\t\"./kk\": 2953,\n\t\"./kk.js\": 2953,\n\t\"./km\": 6957,\n\t\"./km.js\": 6957,\n\t\"./kn\": 9181,\n\t\"./kn.js\": 9181,\n\t\"./ko\": 7148,\n\t\"./ko.js\": 7148,\n\t\"./ku\": 7752,\n\t\"./ku.js\": 7752,\n\t\"./ky\": 5675,\n\t\"./ky.js\": 5675,\n\t\"./lb\": 1263,\n\t\"./lb.js\": 1263,\n\t\"./lo\": 5746,\n\t\"./lo.js\": 5746,\n\t\"./lt\": 1143,\n\t\"./lt.js\": 1143,\n\t\"./lv\": 8753,\n\t\"./lv.js\": 8753,\n\t\"./me\": 4054,\n\t\"./me.js\": 4054,\n\t\"./mi\": 1573,\n\t\"./mi.js\": 1573,\n\t\"./mk\": 202,\n\t\"./mk.js\": 202,\n\t\"./ml\": 8523,\n\t\"./ml.js\": 8523,\n\t\"./mn\": 9794,\n\t\"./mn.js\": 9794,\n\t\"./mr\": 6681,\n\t\"./mr.js\": 6681,\n\t\"./ms\": 6975,\n\t\"./ms-my\": 9859,\n\t\"./ms-my.js\": 9859,\n\t\"./ms.js\": 6975,\n\t\"./mt\": 3691,\n\t\"./mt.js\": 3691,\n\t\"./my\": 5152,\n\t\"./my.js\": 5152,\n\t\"./nb\": 7607,\n\t\"./nb.js\": 7607,\n\t\"./ne\": 1526,\n\t\"./ne.js\": 1526,\n\t\"./nl\": 6368,\n\t\"./nl-be\": 76,\n\t\"./nl-be.js\": 76,\n\t\"./nl.js\": 6368,\n\t\"./nn\": 8420,\n\t\"./nn.js\": 8420,\n\t\"./oc-lnc\": 1906,\n\t\"./oc-lnc.js\": 1906,\n\t\"./pa-in\": 4504,\n\t\"./pa-in.js\": 4504,\n\t\"./pl\": 4721,\n\t\"./pl.js\": 4721,\n\t\"./pt\": 4645,\n\t\"./pt-br\": 4548,\n\t\"./pt-br.js\": 4548,\n\t\"./pt.js\": 4645,\n\t\"./ro\": 1977,\n\t\"./ro.js\": 1977,\n\t\"./ru\": 6042,\n\t\"./ru.js\": 6042,\n\t\"./sd\": 8849,\n\t\"./sd.js\": 8849,\n\t\"./se\": 7739,\n\t\"./se.js\": 7739,\n\t\"./si\": 84,\n\t\"./si.js\": 84,\n\t\"./sk\": 2449,\n\t\"./sk.js\": 2449,\n\t\"./sl\": 3086,\n\t\"./sl.js\": 3086,\n\t\"./sq\": 3139,\n\t\"./sq.js\": 3139,\n\t\"./sr\": 607,\n\t\"./sr-cyrl\": 63,\n\t\"./sr-cyrl.js\": 63,\n\t\"./sr.js\": 607,\n\t\"./ss\": 131,\n\t\"./ss.js\": 131,\n\t\"./sv\": 1665,\n\t\"./sv.js\": 1665,\n\t\"./sw\": 5642,\n\t\"./sw.js\": 5642,\n\t\"./ta\": 3622,\n\t\"./ta.js\": 3622,\n\t\"./te\": 4825,\n\t\"./te.js\": 4825,\n\t\"./tet\": 8336,\n\t\"./tet.js\": 8336,\n\t\"./tg\": 9238,\n\t\"./tg.js\": 9238,\n\t\"./th\": 9463,\n\t\"./th.js\": 9463,\n\t\"./tk\": 9986,\n\t\"./tk.js\": 9986,\n\t\"./tl-ph\": 9672,\n\t\"./tl-ph.js\": 9672,\n\t\"./tlh\": 43,\n\t\"./tlh.js\": 43,\n\t\"./tr\": 1212,\n\t\"./tr.js\": 1212,\n\t\"./tzl\": 110,\n\t\"./tzl.js\": 110,\n\t\"./tzm\": 482,\n\t\"./tzm-latn\": 8309,\n\t\"./tzm-latn.js\": 8309,\n\t\"./tzm.js\": 482,\n\t\"./ug-cn\": 2495,\n\t\"./ug-cn.js\": 2495,\n\t\"./uk\": 4157,\n\t\"./uk.js\": 4157,\n\t\"./ur\": 984,\n\t\"./ur.js\": 984,\n\t\"./uz\": 4141,\n\t\"./uz-latn\": 3662,\n\t\"./uz-latn.js\": 3662,\n\t\"./uz.js\": 4141,\n\t\"./vi\": 2607,\n\t\"./vi.js\": 2607,\n\t\"./x-pseudo\": 6460,\n\t\"./x-pseudo.js\": 6460,\n\t\"./yo\": 2948,\n\t\"./yo.js\": 2948,\n\t\"./zh-cn\": 2658,\n\t\"./zh-cn.js\": 2658,\n\t\"./zh-hk\": 9352,\n\t\"./zh-hk.js\": 9352,\n\t\"./zh-mo\": 8274,\n\t\"./zh-mo.js\": 8274,\n\t\"./zh-tw\": 8451,\n\t\"./zh-tw.js\": 8451\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 6700;"],"names":["Validators","interval","moment","environment","i0","ctx_r9","ctx_r11","CustomerTrackingPageComponent","constructor","orderService","router","fb","http","id","rider","name","delivery_address","google_address","appVersion","form","group","rating1","required","rating2","ngOnInit","init","then","order","rating","order_status","order_Payment","orderPayment","companyData","currencyCode","bodytemp","body_temp","body_temp_vaccination_status","_a","EmployeeBodyTemp","forEach","row","orderStatusDist","status_code","orderStatusDate","created_on","pollingData","numberMasking","sub","subscribe","getTimeBtwTwoLatLng","status_name","unsubscribe","lat1","rider_position","latitude","lng1","longitude","lat2","delivery_location","lng2","get","params","apikey","hereApiKey","waypoint0","waypoint1","mode","res","resData","time","response","route","summary","travelTime","e","console","log","updatedTime","Number","subTitleTime","toFixed","firstLocationTime","drop_off_eta","firstPerValue","currentUpdateTime","deg2rad","deg","Math","PI","feedback","api_url","apiUrl","fetch","method","headers","body","JSON","stringify","stars","rating3","feedbackorder","customer_id","rider_id","json","feedbackStatus","status","date","format","order_number","external_id","order_date","location_code","employee_code","riderData","riderNumber","virtualNumber","orderSummary","orderSummaryValue","orderSummaryValueClose","getRating","event","value","riderPan","riderPosition","next","lat","lng","infoModel","infoModelValue","infoModelClose","selectors","decls","vars","consts","template","ctx","Subscription","Marker","google","maps","Polyline","GooglemapComponent","mapReady","mapOptions","center","polyline","map","Map","mapElement","nativeElement","pickupLatLng","pick_up_location","markers","push","pickupMarker","position","LatLng","icon","url","scaledSize","Size","title","setMap","addListener","infowindow","InfoWindow","content","open","dropLatLng","dropMarker","getRiderPathFromHerePathThenCacheLocally","riderLatLng","oldRiderLatLng","riderIcon","rotation","marker1","setTimeout","panTo","bearing","getBearing","bearingData","oldBearingData","bikeSvg","setIcon","newPosition","deliveryPosition","moveMarker","numDeltas","delay","i","linepos","setPosition","panMap","radians","n","degrees","startLat","startLong","endLat","endLong","dLong","dPhi","tan","abs","atan2","origin","destination","request","post","coordinates","features","geometry","coordsClean","x","dataArray","slice","strokeColor","path","geodesic","visible","viewQuery","HttpClient","BehaviorSubject","OrderService","httpDirect","handler","urlParams","URLSearchParams","window","location","search","myParam","navigateByUrl","data","order_payment","rider_avail","company","factory","providedIn","debounceTime","Subject","getRiderIconBike","HereFlexible","TestMapComponent","movementSubject","pipe","riderSpeed","a","iconInitialized","moveRider","riderPolyLine","pathPolyLine","document","getElementById","zoom","mapTypeId","MapTypeId","ROADMAP","disableDefaultUI","scrollwheel","mapTypeControl","scaleControl","draggable","disableDoubleClickZoom","zoomControl","gestureHandling","bounds","LatLngBounds","fitBounds","setZoom","handlePollingPosition","oldLat","oldLng","riderMovementPath","length","latLng","coords","calculateRiderMovementPath","setCenter","hasFocus","shift","firstRiderMove","getPath","generateAnimationPath","b","metres","round","spherical","computeDistanceBetween","deltaLat","deltaLng","lowestDistance","lowestIndex","pathCord","index","diff","riderMovementCoords","splice","coordinate","fetchRouteFromHereMaps","initial","undefined","strokeOpacity","icons","zIndex","zoomToObject","obj","points","getArray","extend","transportMode","toPromise","latLngList","decode","routes","sections","error"],"sourceRoot":"webpack:///"}
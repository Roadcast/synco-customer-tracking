<header>
  <div class="logo"><img src="assets/images/logo.jpg" alt=""></div>
</header>
<!-- Header End Here -->

<section class="gmap">
  <div class="powered"><img src="assets/images/rc_ic.svg" alt="map"></div>
  <div class="recenter"><svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 121.64 122.86"><title>direction-top</title><path d="M59,1.24.2,120.08a1.92,1.92,0,0,0,.88,2.58,1.89,1.89,0,0,0,1.76,0h0l58-30.87,58,30.87h0a1.89,1.89,0,0,0,1.76,0,1.92,1.92,0,0,0,.88-2.58L62.64,1.24a2,2,0,0,0-3.64,0Z" fill="#0074ad"/></svg></div>
  <app-test-map></app-test-map>
</section>

<!-- Order Container Start Here -->
<section class="ordercont">
  <div class="container">
    <div class="row">
      <div class="col">
        <div class="row orderstatus">
          <div class="col-6"><h2>Order ID</h2></div>
          <div class="col-6 txt-right"><h2>#{{order.id.substr(-6, 6) | uppercase}}</h2></div>
          <div class="w-100"></div>
          <div class="col-12">
            <div class="row">
              <div class="col-7">
                <ol class="timeline">
                  <li [ngClass]="orderStatusDist['400'] === 400 ? 'active' : ''"><img src="assets/images/tick-w.png">Start Bike<span>{{orderStatusDate["400"] | date: 'hh:mma'}}</span></li>
                  <li [ngClass]="orderStatusDist['500'] === 500 ? 'active' : ''"><img src="assets/images/tick-w.png">Reached Customer Parking<span>{{orderStatusDate["500"] | date: 'hh:mma'}}</span></li>
                  <li [ngClass]="orderStatusDist['600'] === 600 ? 'active' : ''"><img src="assets/images/tick-w.png">Delivered<span>{{orderStatusDate["600"] | date: 'hh:mma'}}</span></li>
                </ol>
              </div>
              <div class="col-5 txt-right"><img src="assets/images/graph.jpg"></div>
            </div>
          </div>

         <div class="col-12 rider">
            Rider has picked up your order
          </div>

          <div class="row address">
            <!--<div class="col-1"><img src="assets/images/location_ic.svg" alt=""></div>-->
            <div class="col-12">{{order.delivery_address.google_address}}
            </div>
          </div>

        </div>
      </div>
    </div>

    <div class="row user">
      <div class="col">
        <div class="row">
          <div class="col-2 u-pic"><img src="assets/images/user.jpg" alt=""></div>
          <div class="col-6 u-name"><strong>{{order.rider.name}}</strong>
            {{order.rider.mobile_number}}</div>
          <div class="col-4 callbtn txtright"><img src="assets/images/info_ic.svg" alt=""><a href="tel: {{order.rider ? order.rider.mobile_number : ''}}"
                                                 style="text-decoration: none"><img src="assets/images/call_ic.svg" alt="" class="ml-6"></a></div>
        </div>
      </div>
    </div>
    <div class="row bottombtn">
      <div class="col-12">
        <button type="button" class="btn btn-primary w-100">View Order Info</button>
      </div>
      <div class="col-12 issue">
        Facing Issue? <a href="#">Chat with us</a>
      </div>
      <div class="col-12 poweredbot">
        Powered by RoadCast
      </div>
    </div>
    <!-- Scrollable modal -->
  </div>
</section>
<!-- Order Container End Here -->


<!-- Feedback Pop Up Start Here -->
<div *ngIf="order.status_name === 'delivered'">
  <div class="feedback-popup" *ngIf="!rating">
    <div class="s-message"><img src="assets/images/successful.gif" alt=""><p>Your order has been delivered successfully.</p></div>
    <div class="botcont" >
        <div class="feedback-form">
            <div class="cont">
            <div class="head">Your feedback is important to us!</div>
              <div class="stars">
                <ngx-star-rating [(ngModel)]="rating3" [id]="'rating3'" ></ngx-star-rating >
              </div>
            </div>
          <div class="message">{{order.status_name | uppercase}}</div>
          <div>
            <textarea [(ngModel)]="feedbackorder" class="form-control" rows="2" placeholder="What would you like to share"></textarea>
            <button type="button" class="btn btn-primary w-100" (click)="feedback()">Submit Feedback</button>
          </div>
        </div>
  </div>
  </div>
</div>

<!-- Feedback Pop Up End Here -->
<div  *ngIf="order.status_name === 'delivered'">
  <div class="feedback-popup" *ngIf="rating?.feedback">
    <div class="s-message"><img src="assets/images/successful.gif" alt=""><p>Your order has been delivered successfully.</p></div>
    <div class="botcont" >
      <div  style="text-align: center;font-size: 14px;
           padding: 10px; position: relative; font-weight: bold"><p>Thanks for feedback.</p></div>
    </div>
  </div>
  </div>

<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>
